/* =============================================
   NeuroBreath - Base Site Styles
   ============================================= */

/* CSS Variables - using global color palette from focus-garden */
:root {
    /* Import global palette (if not already defined in base.css) */
    --color-cream: #FFF6EC;
    --color-sage: #9DB4A0;
    --color-sage-light: #C4D4C5;
    --color-sage-dark: #6B8B6E;
    --color-earth: #8B7355;
    --color-earth-light: #C4B5A5;
    --color-sky: #A8C5D8;
    --color-sky-light: #D4E5EE;
    --color-lavender: #B8A9C9;
    --color-lavender-light: #DDD5E7;
    --color-coral: #D4A59A;
    --color-coral-light: #E8CEC8;
    --color-text: #000000;
    --color-text-muted: #111111;
    --color-white: #FFFCF7;
    --color-overlay: rgba(61, 61, 61, 0.6);
    
    /* Zone colors */
    --zone-blue: #7BA3C9;
    --zone-blue-bg: #EEF3F2;
    --zone-green: #7FB285;
    --zone-green-bg: #E5F2E7;
    --zone-yellow: #E5C76B;
    --zone-yellow-bg: #FDF5DC;
    --zone-red: #D4847C;
    --zone-red-bg: #F8E5E3;
    
    /* Legacy mappings for backward compatibility */
    --color-primary: var(--color-sage);
    --color-primary-light: var(--color-sage-light);
    --color-primary-dark: var(--color-sage-dark);
    --color-secondary: var(--color-sage);
    --color-accent: var(--color-sky);
    --color-bg: var(--color-cream);
    --color-bg-alt: var(--color-white);
    --color-border: var(--color-sage-light);
    --color-success: var(--zone-green);
    --color-warning: var(--zone-yellow);
    --color-error: var(--zone-red);
    
    --font-primary: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    --font-display: 'Quicksand', -apple-system, sans-serif;
    
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;
    --spacing-2xl: 3rem;
    
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-xl: 16px;
    
    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.15);
    /* Focus Garden style shadows */
    --shadow-soft: 0 2px 8px rgba(107, 139, 110, 0.12);
    --shadow-medium: 0 4px 16px rgba(107, 139, 110, 0.15);
    --shadow-lifted: 0 8px 32px rgba(107, 139, 110, 0.18);
    
    --transition-fast: 150ms ease;
    --transition-base: 250ms ease;
    --transition-slow: 400ms ease;
    
    /* Page layout variables */
    --nb-page-max-width: 1120px;
    --nb-page-gutter: clamp(1.25rem, 4vw, 2.25rem);
    --nb-section-gap: clamp(1.75rem, 3vw, 2.75rem);
    --nb-card-radius-lg: 1.5rem;
    --nb-card-radius-md: 1.1rem;
    
    /* NeuroBreath Design System Variables */
    --nb-surface-subtle: #f0f4fb;
    --nb-border-strong: #cbd5e1;
    --nb-primary: #0ea5e9;
    --nb-primary-dark: #0369a1;
    --nb-primary-light: #38bdf8;
    --nb-accent-lavender: #bb91e3;
    --nb-accent-mint: #9bd7b5;
    --nb-focus: #1d4ed8;
    --nb-error: #e07879;
    --nb-font-sans: "Lexend", "Noto Sans", system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
    --nb-card-min: min(360px, 100%);
    --nb-grid-gap: 24px;
    --nb-radius-card: 16px;
    --nb-radius-btn: 12px;
    --nb-shadow-card: 0 10px 28px rgba(15, 23, 42, 0.08);
    --nb-shadow-hover: 0 16px 46px rgba(15, 23, 42, 0.12);
    --fs-base: 18px;
    --lh-base: 1.6;
    --max: 1200px;
    --nav-ink-strong: #080f1f;
    --logo-surface: rgba(255, 255, 255, 0.98);
    --logo-padding: 4px;
    --ink: var(--color-text);
    --ink-2: var(--color-text-muted);
    --bg-start: var(--color-cream);
    --bg-mid: #f6f2ea;
    --bg-end: var(--color-cream);
    --surface: var(--color-white);
    --border: var(--color-sage-light);
    --accent: var(--nb-primary);
    --accent-2: var(--nb-primary-dark);
    --cta: var(--nb-primary);
    --cta-2: var(--nb-primary-dark);
    --focus: var(--nb-focus);
    --chip: var(--nb-accent-lavender);
    --shadow-card: var(--nb-shadow-card);
    --r-card: var(--nb-radius-card);
    --r-btn: var(--nb-radius-btn);
    --card-min: var(--nb-card-min);
    --grid-gap: var(--nb-grid-gap);
    --nb-overlay-backdrop: rgba(5, 8, 20, 0.78);
    --nb-overlay-surface: #0b1220;
    --nb-overlay-border: rgba(255, 255, 255, 0.14);
    --nb-overlay-field-bg: rgba(255, 255, 255, 0.06);
    --nb-bg: #020617;
    --nb-card: #020617;
    --nb-card-alt: #020617;
    --nb-border-subtle: rgba(148, 163, 184, 0.35);
    --nb-accent: #38bdf8;
    --nb-accent-soft: rgba(56, 189, 248, 0.15);
    --nb-accent-strong: #0ea5e9;
    --nb-ink-soft: #9ca3af;
    --nb-ink-muted: #6b7280;
    --nb-danger: #f97373;
    --nb-success: #4ade80;
    --nb-radius-xl: 24px;
    --nb-radius-lg: 18px;
    --nb-radius-md: 12px;
    --nb-radius-pill: 999px;
    --nb-shadow-soft: 0 32px 80px rgba(15, 23, 42, 0.75);
    --nb-shadow-chip: 0 14px 32px rgba(15, 23, 42, 0.9);
    --nb-font: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", Segoe UI, sans-serif;
    --logo-border: rgba(15, 23, 42, 0.14);
    --logo-shadow: 0 10px 22px rgba(15, 23, 42, 0.18);
    --mobile-nav-bg: #ffffff;
    --mobile-nav-text: var(--nav-ink-strong);
    --mobile-nav-border: rgba(15, 23, 42, 0.12);

    /* =============================================
       Theme tokens (site-wide, forward-looking)
       - Prefer these semantic variables for new pages.
       - Keeps legacy --color-* intact for older pages.
       ============================================= */
    --color-site-bg: var(--color-cream);
    --color-site-surface: var(--color-white);
    --color-site-surface-2: var(--color-white);
    --color-site-border: var(--color-sage-light);
    --color-site-link: var(--color-sage-dark);
    --color-site-on-accent: #ffffff;

    /* RGB companions (for rgba() usage without extra palettes) */
    --rgb-site-bg: 255, 246, 236;
    --rgb-site-surface: 255, 252, 247;
    --rgb-site-surface-2: 255, 252, 247;
    --rgb-site-border: 196, 212, 197;
    --rgb-text: 0, 0, 0;
    --rgb-text-muted: 17, 17, 17;
    --rgb-sage: 157, 180, 160;
    --rgb-sage-dark: 107, 139, 110;
    --rgb-sky: 168, 197, 216;
    --rgb-lavender: 184, 169, 201;
    --rgb-warning: 229, 199, 107;
    --rgb-error: 212, 132, 124;
    --rgb-zone-green: 127, 178, 133;
}

/* =============================================
   Light theme readability (site-wide)
   - Keep body text neutral (via --color-text)
   - Make accent/link green darker for contrast
   ============================================= */
body {
    /* Darker green for any elements that still use --color-sage-dark on light backgrounds */
    --color-sage-dark: #1F3A22;
    --rgb-sage-dark: 31, 58, 34;
}

body a {
    color: var(--color-sage-dark);
    text-decoration: underline;
    text-underline-offset: 0.18em;
    text-decoration-thickness: 2px;
}

body a:hover {
    text-decoration: underline;
}

/* Reset & Base */
*, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    scroll-behavior: smooth;
    font-size: 16px;
}

body {
    font-family: var(--font-primary);
    font-size: 1rem;
    line-height: 1.6;
    color: var(--color-text);
    /* Multi-color gradient background - Focus Garden style */
    background: 
        radial-gradient(circle at 20% 30%, var(--color-sage-light) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, var(--color-sky-light) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, var(--color-lavender-light) 0%, transparent 60%),
        radial-gradient(circle at 10% 80%, var(--color-coral-light) 0%, transparent 40%),
        radial-gradient(circle at 90% 20%, var(--color-earth-light) 0%, transparent 40%),
        linear-gradient(135deg, var(--color-cream) 0%, var(--color-white) 50%, var(--color-cream) 100%);
    background-attachment: fixed;
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    font-weight: 600;
    line-height: 1.2;
    margin-bottom: var(--spacing-md);
    color: var(--color-text);
}

h1 { font-size: 2.25rem; }
h2 { font-size: 1.75rem; }
h3 { font-size: 1.375rem; }
h4 { font-size: 1.25rem; }
h5 { font-size: 1.125rem; }
h6 { font-size: 1rem; }

@media (min-width: 768px) {
    h1 { font-size: 2.75rem; }
    h2 { font-size: 2.125rem; }
    h3 { font-size: 1.625rem; }
}

@media (min-width: 1200px) {
    h1 { font-size: 3rem; }
    h2 { font-size: 2.25rem; }
    h3 { font-size: 1.75rem; }
}

p {
    margin-bottom: var(--spacing-md);
}

a {
    color: var(--color-sage-dark);
    text-decoration: none;
    transition: color var(--transition-fast);
}

a:hover {
    color: var(--color-earth);
    text-decoration: underline;
}

/* Layout */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--spacing-lg);
}

/* Skip Link */
.skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--color-sage);
    color: var(--color-white);
    padding: var(--spacing-sm) var(--spacing-md);
    text-decoration: none;
    z-index: 1000;
}

.skip-link:focus {
    top: 0;
}

/* Header */
.site-header {
    background: var(--color-white);
    border-bottom: 1px solid var(--color-sage-light);
    padding: var(--spacing-md) 0;
    position: sticky;
    top: 0;
    z-index: 100;
    box-shadow: var(--shadow-sm);
}

.navbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-lg);
    flex-wrap: wrap;
}

.brand {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    text-decoration: none;
    font-weight: 600;
    font-size: 1.25rem;
    color: var(--color-text);
}

.brand:hover {
    text-decoration: none;
}

.logo {
    width: 32px;
    height: 32px;
    background: var(--color-sage);
    border-radius: var(--radius-sm);
    display: inline-block;
    background-image: url('../icons/neurobreath-logo-square-32.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    object-fit: contain;
    flex-shrink: 0;
}

.logo img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    display: block;
    border-radius: var(--radius-sm);
}

.brand-text {
    font-family: var(--font-display);
}

/* Navigation */
.main-nav {
    display: flex;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.menu-group {
    position: relative;
}

.menu-toggle {
    background: none;
    border: none;
    padding: var(--spacing-sm) var(--spacing-md);
    font-family: var(--font-primary);
    font-size: 1rem;
    color: var(--color-text);
    cursor: pointer;
    border-radius: var(--radius-md);
    transition: background var(--transition-fast);
}

.menu-toggle:hover {
    background: var(--color-sage-light);
}

.menu-toggle[aria-expanded="true"] {
    background: var(--color-sage-light);
}

.submenu {
    position: absolute;
    top: 100%;
    left: 0;
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    padding: var(--spacing-sm);
    min-width: 200px;
    box-shadow: var(--shadow-lg);
    display: none;
    z-index: 10;
    margin-top: var(--spacing-xs);
}

.menu-toggle[aria-expanded="true"] + .submenu {
    display: block;
}

.submenu a {
    display: block;
    padding: var(--spacing-sm) var(--spacing-md);
    color: var(--color-text);
    border-radius: var(--radius-sm);
    transition: background var(--transition-fast);
}

.submenu a:hover {
    background: var(--color-sage-light);
    text-decoration: none;
}

/* Mega menu (used for long dropdowns like Tools) */
.menu-group.menu-mega .submenu {
    min-width: 720px;
    max-width: min(920px, 92vw);
    max-height: 70vh;
    overflow: auto;
    column-count: 3;
    column-gap: var(--spacing-lg);
}

/* 2-column mega menu variant (e.g. Conditions) */
.menu-group.menu-mega.menu-mega-2col .submenu {
    min-width: 560px;
    max-width: min(760px, 92vw);
    column-count: 2;
}

.menu-group.menu-mega .submenu a,
.menu-group.menu-mega .submenu .menu-label {
    break-inside: avoid;
}

.menu-group.menu-mega .submenu .submenu-group {
    break-inside: avoid;
}

@media (max-width: 900px) {
    .menu-group.menu-mega .submenu {
        min-width: 520px;
        max-width: 92vw;
        column-count: 2;
    }
}

.menu-label {
    padding: var(--spacing-xs) var(--spacing-md);
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-muted);
    margin-top: var(--spacing-xs);
}

.nav-toggle {
    display: none;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    padding: var(--spacing-sm);
    color: var(--color-text);
}

/* Cards - Focus Garden Style */
.card {
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-lg);
    padding: var(--spacing-lg);
    box-shadow: var(--shadow-medium);
    transition: all var(--transition-base);
}

.card:hover {
    box-shadow: var(--shadow-lifted);
    transform: translateY(-2px);
    border-color: var(--color-sage);
}

/* Buttons */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-lg);
    border: none;
    border-radius: var(--radius-md);
    font-family: var(--font-primary);
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-fast);
    text-decoration: none;
}

.btn.primary {
    background: var(--color-sage);
    color: var(--color-white);
}

.btn.primary:hover {
    background: var(--color-sage-dark);
    text-decoration: none;
}

.btn.ghost {
    background: transparent;
    border: 1px solid var(--color-sage-light);
    color: var(--color-text);
}

.btn.ghost:hover {
    background: var(--color-sage-light);
    text-decoration: none;
}

/* Grid */
.grid {
    display: grid;
    gap: var(--spacing-lg);
}

.grid.cols-2 {
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
}

.grid.cols-3 {
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
}

/* Sections */
.section {
    padding: var(--spacing-2xl) 0;
}

.section.anchor {
    scroll-margin-top: 100px;
}

.section-head {
    margin-bottom: var(--spacing-xl);
    text-align: center;
}

.section-head h2 {
    margin-bottom: var(--spacing-sm);
}

/* Teacher page note spacing */
.teacher-note {
    margin-top: var(--space-xl);
}

.muted {
    color: var(--color-text-muted);
    font-size: 0.875rem;
}

/* Lists */
.checklist {
    list-style: none;
    padding-left: 0;
}

.checklist li {
    padding: var(--spacing-sm) 0;
    padding-left: var(--spacing-xl);
    position: relative;
}

.checklist li::before {
    content: "âœ“";
    position: absolute;
    left: 0;
    color: var(--zone-green);
    font-weight: bold;
}

.resource-list {
    list-style: none;
    padding-left: 0;
}

.resource-list li {
    padding: var(--spacing-sm) 0;
    border-bottom: 1px solid var(--color-sage-light);
}

.resource-list li:last-child {
    border-bottom: none;
}

/* Utility Classes */
.mt-8 { margin-top: var(--spacing-xl); }
.mb-8 { margin-bottom: var(--spacing-xl); }

.note {
    padding: var(--spacing-md);
    background: var(--color-sage-light);
    border-left: 3px solid var(--color-sky);
    border-radius: var(--radius-sm);
    font-size: 0.875rem;
}

.stat {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    padding: var(--spacing-md);
    background: var(--color-sage-light);
    border-radius: var(--radius-md);
    margin-top: var(--spacing-md);
}

.stat span:first-child {
    font-size: 1.5rem;
}

/* Footer */
.site-footer {
    background: var(--color-white);
    border-top: 1px solid var(--color-sage-light);
    padding: var(--spacing-2xl) 0;
    margin-top: var(--spacing-2xl);
}

.ft-top {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: var(--spacing-2xl);
    margin-bottom: var(--spacing-xl);
}

.ft-brand {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
}

.row {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.ft-logo {
    width: 48px;
    height: 48px;
    background: var(--color-sage);
    border-radius: var(--radius-md);
    display: block;
    overflow: hidden;
}

.ft-logo img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    display: block;
}

.ft-heading {
    margin-bottom: var(--spacing-sm);
}

.ft-actions {
    display: flex;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
}

.ft-nav {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-lg);
}

.ft-group {
    border: none;
}

.ft-group summary {
    font-weight: 600;
    margin-bottom: var(--spacing-sm);
    cursor: pointer;
    list-style: none;
}

/* Footer (light theme): make top-level labels + Support button logo-green */
body .site-footer .ft-group summary,
body .site-footer .ft-nav-brand .btn {
    color: var(--color-sage-dark);
}

body .site-footer .ft-group summary {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 12px;
    border-radius: var(--radius-md);
    background: var(--zone-green-bg);
    border: 2px solid var(--color-sage-dark);
}

body .site-footer .ft-nav-brand .btn {
    border-color: var(--color-sage-dark);
    background: var(--color-white);
}

.ft-group summary::-webkit-details-marker {
    display: none;
}

.ft-group .links {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
}

.ft-group .links a {
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.ft-bottom {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: var(--spacing-lg);
    border-top: 1px solid var(--color-sage-light);
    flex-wrap: wrap;
    gap: var(--spacing-md);
}

.ft-bottom__copy {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    flex: 1;
    min-width: 0;
}

.ft-bottom__text {
    margin: 0;
    line-height: 1.6;
    display: inline;
}

@media (max-width: 768px) {
    .ft-bottom {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--spacing-sm);
    }
    
    .ft-bottom__copy {
        width: 100%;
    }
    
    .ft-bottom__text {
        display: block;
        line-height: 1.5;
    }
}

.back-to-top-btn {
    background: var(--color-sage);
    color: var(--color-white);
    border: none;
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--radius-md);
    cursor: pointer;
    font-size: 0.875rem;
}

.back-to-top-btn:hover {
    background: var(--color-sage-dark);
}

/* Theme Editor */
.theme-editor {
    margin-top: var(--spacing-lg);
    padding: var(--spacing-lg);
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
}

.theme-title {
    font-size: 1rem;
    margin-bottom: var(--spacing-sm);
}

.theme-status {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-bottom: var(--spacing-md);
}

.theme-actions {
    display: flex;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
    margin-bottom: var(--spacing-md);
}

.theme-btn {
    padding: var(--spacing-xs) var(--spacing-md);
    font-size: 0.875rem;
}

.theme-custom {
    margin-top: var(--spacing-md);
}

.theme-custom label {
    display: block;
    font-size: 0.875rem;
    margin-bottom: var(--spacing-sm);
}

.theme-custom-row {
    display: flex;
    gap: var(--spacing-md);
    align-items: center;
}

.theme-swatches {
    display: flex;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
}

.theme-swatch {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs);
    background: none;
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-size: 0.75rem;
}

.theme-swatch__chip {
    width: 20px;
    height: 20px;
    border-radius: var(--radius-sm);
    border: 1px solid var(--color-sage-light);
}

/* Responsive */
@media (max-width: 768px) {
    .nav-toggle {
        display: block;
    }
    
    .main-nav {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: var(--color-white);
        border-top: 1px solid var(--color-sage-light);
        padding: var(--spacing-md);
        flex-direction: column;

        /* Keep all top-level items reachable even when a submenu is open */
        max-height: calc(100vh - 5rem);
        overflow-y: auto;
        overscroll-behavior: contain;
    }
    
    .main-nav[aria-expanded="true"] {
        display: flex;
    }
    
    .submenu {
        position: static;
        box-shadow: none;
        border: none;
        padding-left: var(--spacing-lg);

        /* Prevent an opened submenu from blocking items below */
        max-height: 40vh;
        overflow: auto;
    }

    /* Tools mega menu: keep it as a true mega menu in the hamburger nav (multi-column) */
    .menu-group.menu-mega .submenu {
        padding-left: 0;
        columns: 2 12rem;
        column-gap: var(--spacing-md);
        max-height: 70vh;
        overflow: auto;
    }

    .menu-group.menu-mega .submenu .submenu-links {
        display: block;
    }

    @media (max-width: 360px) {
        .menu-group.menu-mega .submenu {
            columns: 1;
        }
    }

    /* Prevent hover from auto-expanding dropdowns on mobile */
    .menu-toggle[aria-expanded="true"] + .submenu {
        display: block !important;
    }
    
    .grid.cols-2,
    .grid.cols-3 {
        grid-template-columns: 1fr;
    }
    
    .ft-top {
        grid-template-columns: 1fr;
    }
    
    .ft-nav {
        grid-template-columns: 1fr;
    }
}

/* Image Utilities */
.hero-bg-autism {
    background-image: url('../img/hero-autism-exact.jpg');
    background-size: cover;
    background-position: center;
}

.hero-bg-dyslexia {
    background-image: url('../img/hero-dyslexia-bg.svg');
    background-size: cover;
    background-position: center;
}

.hero-bg-home {
    background-image: url('../img/hero-home-bg.svg');
    background-size: cover;
    background-position: center;
}

.hero-bg-resources {
    background: linear-gradient(135deg, rgba(15,23,42,0.85) 0%, rgba(30,64,175,0.75) 100%), url('../img/share-diverse-group.svg');
    background-size: cover;
    background-position: center;
}

.img-feature {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
}

.img-illustration {
    max-width: 100%;
    height: auto;
    display: block;
    margin: var(--spacing-lg) auto;
}

/* Share Card Styles */
.share-card-header {
    text-align: left;
    margin-bottom: var(--spacing-xl);
}

.share-voice-controls {
    background: var(--color-sage-light);
    padding: var(--spacing-lg);
    border-radius: var(--radius-md);
    margin-bottom: var(--spacing-xl);
}

.share-voice-buttons {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    flex-wrap: wrap;
    margin-bottom: var(--spacing-md);
}

.share-voice-group {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
    flex: 1;
}

.share-voice-select-group {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.share-voice-label {
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.share-voice-select {
    padding: var(--spacing-sm) var(--spacing-md);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    background: var(--color-white);
    color: var(--color-text);
    font-family: var(--font-primary);
    font-size: 1rem;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.share-voice-select:hover {
    background: var(--color-sage-light);
    border-color: var(--color-sage);
}

.share-actions-grid {
    gap: var(--spacing-xl);
    margin-bottom: var(--spacing-xl);
}

.share-platforms {
    display: flex;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
    margin-top: var(--spacing-md);
}

.platform-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs) var(--spacing-sm);
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-sm);
    font-size: 0.875rem;
}

.platform-badge svg {
    flex-shrink: 0;
    width: 16px;
    height: 16px;
}

.share-illustration {
    margin: 0;
}

.share-illustration img {
    width: 100%;
    height: auto;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
}

.share-illustration-caption {
    margin-top: var(--spacing-md);
}

.share-illustration-title {
    font-weight: 600;
    margin-bottom: var(--spacing-sm);
}

.share-legend-button {
    width: 100%;
    text-align: left;
    justify-content: flex-start;
}

.share-feature-list {
    margin-top: var(--spacing-lg);
}

.share-feature-item {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: var(--spacing-md);
    padding: var(--spacing-md) 0;
}

.share-feature-item:last-child {
    border-bottom: none;
}

.share-feature-content {
    flex: 1;
}

.share-feature-description {
    margin: var(--spacing-xs) 0 0 0;
    font-size: 0.875rem;
}

.share-qr-group {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.share-qr-image {
    display: inline-block;
    border-radius: var(--radius-sm);
}

.share-qr-image img {
    border-radius: var(--radius-sm);
}

.share-actions-column {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
    margin-top: var(--spacing-md);
}

.share-footnote {
    margin-top: var(--spacing-md);
    font-size: 0.875rem;
}

/* Section Dividers & Backgrounds - Full Width */
.section-divider {
    height: 1px;
    background: var(--color-sage-light);
    margin: var(--spacing-2xl) 0;
    border: none;
    width: 100%;
    max-width: 100%;
}

.section-divider--thick {
    height: 2px;
    background: var(--color-sage);
    margin: var(--spacing-2xl) 0;
    border: none;
    width: 100%;
    max-width: 100%;
}

/* Section Backgrounds - Focus Garden Style Multi-Color Gradients */
.section-bg-cream {
    background: var(--color-cream);
    padding: var(--spacing-2xl) 0;
}

.section-bg-white {
    background: var(--color-white);
    padding: var(--spacing-2xl) 0;
}

.section-bg-sage-light {
    background: linear-gradient(135deg, 
        var(--color-sage-light) 0%, 
        var(--color-cream) 50%, 
        var(--color-sage-light) 100%);
    padding: var(--spacing-2xl) 0;
}

.section-bg-gradient {
    background: linear-gradient(135deg, 
        var(--color-sage-light) 0%, 
        var(--color-sky-light) 50%, 
        var(--color-lavender-light) 100%);
    padding: var(--spacing-2xl) 0;
}

.section-bg-sky-light {
    background: linear-gradient(135deg, 
        var(--color-sky-light) 0%, 
        var(--color-cream) 50%, 
        var(--color-sky-light) 100%);
    padding: var(--spacing-2xl) 0;
}

/* Additional Focus Garden Style Gradients */
.section-bg-lavender-gradient {
    background: linear-gradient(135deg, 
        var(--color-lavender-light) 0%, 
        var(--color-sky-light) 50%, 
        var(--color-cream) 100%);
    padding: var(--spacing-2xl) 0;
}

.section-bg-coral-gradient {
    background: linear-gradient(135deg, 
        var(--color-coral-light) 0%, 
        var(--color-cream) 50%, 
        var(--color-sage-light) 100%);
    padding: var(--spacing-2xl) 0;
}

.section-bg-earth-gradient {
    background: linear-gradient(135deg, 
        var(--color-earth-light) 0%, 
        var(--color-cream) 50%, 
        var(--color-sage-light) 100%);
    padding: var(--spacing-2xl) 0;
}

.section-bg-multi-sky {
    background: linear-gradient(180deg, 
        var(--color-sky-light) 0%, 
        var(--color-sage-light) 60%, 
        var(--color-earth-light) 100%);
    padding: var(--spacing-2xl) 0;
}

/* Additional unique section backgrounds */
.section-bg-sky-lavender {
    background: linear-gradient(135deg, 
        var(--color-sky-light) 0%, 
        var(--color-lavender-light) 50%, 
        var(--color-sage-light) 100%);
    padding: var(--spacing-2xl) 0;
}

.section-bg-coral-sky {
    background: linear-gradient(135deg, 
        var(--color-coral-light) 0%, 
        var(--color-sky-light) 50%, 
        var(--color-cream) 100%);
    padding: var(--spacing-2xl) 0;
}

.section-bg-earth-sage {
    background: linear-gradient(135deg, 
        var(--color-earth-light) 0%, 
        var(--color-sage-light) 50%, 
        var(--color-cream) 100%);
    padding: var(--spacing-2xl) 0;
}

.section-bg-lavender-coral {
    background: linear-gradient(135deg, 
        var(--color-lavender-light) 0%, 
        var(--color-coral-light) 50%, 
        var(--color-cream) 100%);
    padding: var(--spacing-2xl) 0;
}

.section-bg-sage-coral {
    background: linear-gradient(135deg, 
        var(--color-sage-light) 0%, 
        var(--color-coral-light) 50%, 
        var(--color-sky-light) 100%);
    padding: var(--spacing-2xl) 0;
}

.section-bg-sky-earth {
    background: linear-gradient(135deg, 
        var(--color-sky-light) 0%, 
        var(--color-earth-light) 50%, 
        var(--color-lavender-light) 100%);
    padding: var(--spacing-2xl) 0;
}

/* Enhanced Card Styles - Focus Garden Style */
.card-elevated {
    background: var(--color-white);
    box-shadow: var(--shadow-medium);
    border: 1px solid var(--color-sage-light);
    transition: all var(--transition-base);
}

.card-elevated:hover {
    box-shadow: var(--shadow-lifted);
    transform: translateY(-4px);
    border-color: var(--color-sage);
}

/* Card Background Colors - Using Global Color Palette */
/* Ensure all card bodies use global colors - override any hardcoded rgba */
body[data-page-id="index"] .card {
    background: var(--color-white) !important;
    color: var(--color-text) !important;
}

/* Ensure all text in cards uses global colors for readability */
body[data-page-id="index"] .card,
body[data-page-id="index"] .card * {
    color: var(--color-text);
}

body[data-page-id="index"] .card .muted,
body[data-page-id="index"] .card [class*="muted"] {
    color: var(--color-text-muted) !important;
}

body[data-page-id="index"] .card h1,
body[data-page-id="index"] .card h2,
body[data-page-id="index"] .card h3,
body[data-page-id="index"] .card h4,
body[data-page-id="index"] .card h5,
body[data-page-id="index"] .card h6 {
    color: var(--color-text) !important;
}

body[data-page-id="index"] .card p,
body[data-page-id="index"] .card li,
body[data-page-id="index"] .card span {
    color: var(--color-text);
}

body[data-page-id="index"] .card a {
    color: var(--color-sage-dark) !important;
}

body[data-page-id="index"] .card a:hover {
    color: var(--color-earth) !important;
}

/* Global text color overrides - ensure all text uses global palette */
body[data-page-id="index"] {
    color: var(--color-text);
}

body[data-page-id="index"] h1,
body[data-page-id="index"] h2,
body[data-page-id="index"] h3,
body[data-page-id="index"] h4,
body[data-page-id="index"] h5,
body[data-page-id="index"] h6 {
    color: var(--color-text) !important;
}

body[data-page-id="index"] p,
body[data-page-id="index"] li,
body[data-page-id="index"] span,
body[data-page-id="index"] div {
    color: var(--color-text);
}

body[data-page-id="index"] .muted,
body[data-page-id="index"] [class*="muted"] {
    color: var(--color-text-muted) !important;
}

body[data-page-id="index"] a {
    color: var(--color-sage-dark) !important;
}

body[data-page-id="index"] a:hover {
    color: var(--color-earth) !important;
}

body[data-page-id="index"] strong,
body[data-page-id="index"] b {
    color: var(--color-text) !important;
}

/* Specific card type backgrounds - these override the default */
.home-practice-card {
    background: var(--color-cream) !important;
    margin-bottom: 2%;
}

.home-goals-card {
    background: var(--color-sky-light);
}

.home-evidence .card,
.home-evidence article {
    background: var(--color-lavender-light);
}

.home-challenges .card,
.home-challenges article {
    background: var(--color-coral-light);
}

.home-rewards .card,
.home-rewards article {
    background: var(--color-earth-light);
}

.home-daily-practice .card,
.home-daily-practice article {
    background: var(--color-sage-light);
}

/* ============================================
   DAILY PRACTICE CARD - PROFESSIONAL RESTRUCTURE
   ============================================ */
.home-daily-practice__card {
    padding: clamp(1.5rem, 3vw, 2.25rem);
    display: flex;
    flex-direction: column;
    gap: 1.75rem;
}

.home-daily-practice__header {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid rgba(148, 163, 184, 0.2);
}

.home-daily-practice__header-content {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.home-daily-practice__eyebrow {
    margin: 0;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-text-muted);
    font-weight: 700;
}

.home-daily-practice__title {
    margin: 0;
    font-size: clamp(1.5rem, 2.5vw, 1.9rem);
    font-weight: 700;
    color: var(--color-text);
    line-height: 1.2;
}

.home-daily-practice__description {
    margin: 0;
    font-size: 0.95rem;
    line-height: 1.6;
    color: var(--color-text-muted);
    max-width: 65ch;
}

.home-daily-practice__voice-section {
    margin-top: 0.5rem;
}

.home-daily-practice__voice-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.25rem;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.6), rgba(248, 250, 252, 0.8));
    border: 1px solid rgba(148, 163, 184, 0.25);
    border-radius: var(--radius-md);
    box-shadow: 0 2px 8px rgba(15, 23, 42, 0.08);
}

.home-daily-practice__voice-icon {
    font-size: 1.5rem;
    line-height: 1;
    flex-shrink: 0;
}

.home-daily-practice__voice-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.home-daily-practice__voice-label {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-muted);
    font-weight: 600;
}

.home-daily-practice__voice-value {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--color-text);
    line-height: 1.3;
}

.home-daily-practice__voice-btn {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
    white-space: nowrap;
    flex-shrink: 0;
}

.home-daily-practice__body {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

/* Tech Player Styles */
.tech-player.home-tech {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

/* Tech status (used by quick Start/Stop blocks + tech players) */
.tech-status{
    margin: 0;
    padding: var(--spacing-md) var(--spacing-lg);
    border-radius: var(--radius-md);
    border: 1px solid var(--color-sage-light);
    background: var(--color-white);
    color: var(--color-text);
    font-weight: 600;
    line-height: 1.45;
}

.tech-status__cue{
    display: block;
    margin-top: var(--spacing-xs);
    color: var(--color-text-muted);
    font-weight: 500;
}

/* Support/coffee layouts */
body[data-page-id="coffee"] .kicker{
    display: inline-block;
    margin: 0 0 var(--spacing-xs) 0;
    padding: 0;
    color: var(--color-text-muted);
    font-weight: 700;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    font-size: 0.8rem;
}

.kv-grid{
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-md);
    margin-top: var(--spacing-lg);
}

.kv{
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    background: var(--color-white);
}

.fields{
    display: grid;
    grid-template-columns: 1fr auto;
    gap: var(--spacing-sm) var(--spacing-md);
    align-items: center;
    margin-top: var(--spacing-md);
}

.field{
    display: grid;
    gap: var(--spacing-xs);
}

.val{
    font-weight: 600;
    color: var(--color-text);
}

.copy-mini{
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-md);
    padding: 0.55rem 0.85rem;
    border: 1px solid var(--color-sage-light);
    background: var(--color-white);
    color: var(--color-text);
    font-weight: 600;
    cursor: pointer;
}

.copy-mini:hover{
    border-color: var(--color-sage);
}

.copy-mini:focus-visible{
    outline: 3px solid var(--color-sage);
    outline-offset: 3px;
}

body[data-page-id="coffee"] .subcard{
    margin-top: var(--spacing-lg);
    padding: var(--spacing-lg);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-lg);
    background: var(--color-white);
}

body[data-page-id="coffee"] .bank-helper{
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-lg);
    padding: 0;
    max-width: 720px;
    width: min(720px, calc(100% - 2rem));
    box-shadow: var(--shadow-medium);
    background: var(--color-white);
}

body[data-page-id="coffee"] .bank-helper::backdrop{
    background: rgba(0,0,0,0.35);
}

body[data-page-id="coffee"] .bank-helper__inner{
    padding: var(--spacing-xl);
}

@media (max-width: 520px){
    body[data-page-id="coffee"] .fields{ grid-template-columns: 1fr; }
    body[data-page-id="coffee"] .copy-mini{ width: 100%; }
}

.home-tech__settings {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.25rem;
    padding: 1.25rem;
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
}

@media (min-width: 640px) {
    .home-tech__settings {
        grid-template-columns: 1fr 1fr;
        gap: 1.5rem;
    }
}

.home-tech__setting-row {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.home-tech__label {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-text);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.home-tech__select {
    width: 100%;
    padding: 0.75rem 1rem;
    font-size: 0.9rem;
    border: 1.5px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    background: var(--color-white);
    color: var(--color-text);
    cursor: pointer;
    transition: all 0.2s ease;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%231e293b' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.75rem center;
    padding-right: 2.5rem;
}

.home-tech__select:hover {
    border-color: var(--color-sage);
    box-shadow: 0 2px 4px rgba(15, 23, 42, 0.1);
}

.home-tech__select:focus {
    outline: 2px solid var(--color-sky);
    outline-offset: 2px;
    border-color: var(--color-sky);
}

.home-tech__setting-row--minutes {
    grid-column: 1 / -1;
}

@media (min-width: 640px) {
    .home-tech__setting-row--minutes {
        grid-column: auto;
    }
}

.home-tech__minutes-control {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.home-tech__range-input {
    width: 100%;
    height: 8px;
    border-radius: 4px;
    background: var(--color-sage-light);
    outline: none;
    -webkit-appearance: none;
    appearance: none;
    cursor: pointer;
}

.home-tech__range-input::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--color-sky);
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(59, 130, 246, 0.4);
    transition: all 0.2s ease;
}

.home-tech__range-input::-webkit-slider-thumb:hover {
    transform: scale(1.15);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.6);
}

.home-tech__range-input::-moz-range-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--color-sky);
    cursor: pointer;
    border: none;
    box-shadow: 0 2px 6px rgba(59, 130, 246, 0.4);
    transition: all 0.2s ease;
}

.home-tech__range-input::-moz-range-thumb:hover {
    transform: scale(1.15);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.6);
}

.home-tech__minutes-display {
    display: flex;
    align-items: baseline;
    gap: 0.5rem;
    justify-content: center;
    padding: 0.5rem;
    background: var(--color-cream);
    border-radius: var(--radius-md);
    border: 1px solid var(--color-sage-light);
}

.home-tech__minutes-value {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-text);
    line-height: 1;
}

.home-tech__minutes-unit {
    font-size: 0.9rem;
    color: var(--color-text-muted);
    font-weight: 500;
}

/* Session Stats */
.home-tech__session-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    padding: 1rem 1.25rem;
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
}

.home-tech__stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    text-align: center;
}

.home-tech__stat-label {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-muted);
    font-weight: 600;
}

.home-tech__stat-value {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--color-text);
    line-height: 1.2;
}

/* Breathing Diagram */
.home-tech__breathing-diagram {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem;
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    min-height: 200px;
    justify-content: center;
}

.home-tech__diagram {
    width: 100%;
    max-width: 300px;
    height: auto;
}

.home-tech__status {
    margin: 0;
    font-size: 0.9rem;
    color: var(--color-text-muted);
    text-align: center;
    font-weight: 500;
}

/* Phase Breakdown */
.home-tech__phase-breakdown {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.75rem;
    padding: 1rem;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(14, 165, 233, 0.05));
    border: 1px solid rgba(59, 130, 246, 0.15);
    border-radius: var(--radius-md);
}

.home-tech__phase-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 0.5rem;
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    transition: all 0.2s ease;
}

.home-tech__phase-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(15, 23, 42, 0.1);
    border-color: var(--color-sky);
}

.home-tech__phase-item.is-active {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(14, 165, 233, 0.1));
    border-color: var(--color-sky);
    border-width: 2px;
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);
}

.home-tech__phase-item.is-active .home-tech__phase-duration {
    color: var(--color-sky-dark);
    font-size: 1.2rem;
}

.home-tech__phase-label {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-muted);
    font-weight: 600;
}

.home-tech__phase-duration {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--color-sky);
    line-height: 1;
}

/* Action Buttons */
.home-tech__actions {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
}

@media (min-width: 640px) {
    .home-tech__actions {
        grid-template-columns: repeat(4, 1fr);
    }
}

.home-tech__action-btn {
    padding: 0.75rem 1rem;
    font-size: 0.9rem;
    font-weight: 600;
    text-align: center;
    white-space: nowrap;
    transition: all 0.2s ease;
}

.home-tech__action-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.home-tech__action-btn--voice {
    grid-column: 1 / -1;
}

@media (min-width: 640px) {
    .home-tech__action-btn--voice {
        grid-column: auto;
    }
}

.home-tech__action-btn[aria-pressed="true"] {
    background: var(--color-sky);
    color: var(--color-white);
    border-color: var(--color-sky);
}

.btn-sm {
    padding: 0.5rem 0.875rem;
    font-size: 0.85rem;
}

@media (max-width: 640px) {
    .home-daily-practice__header {
        gap: 1rem;
    }
    
    .home-daily-practice__voice-card {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
    }
    
    .home-tech__settings {
        grid-template-columns: 1fr;
    }
    
    .home-tech__phase-breakdown {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .home-tech__actions {
        grid-template-columns: 1fr;
    }
    
    .home-tech__action-btn--voice {
        grid-column: 1;
    }
}

.home-share .card,
.home-share article,
.card-share-theme {
    background: var(--color-white);
}

.home-support .card,
.home-support article {
    background: var(--color-cream);
}

.home-links .card,
.home-links article {
    background: var(--color-sky-light);
}

.progress-enhanced,
.progress-enhanced.card {
    background: var(--color-lavender-light);
}

.quick-answers .card,
.quick-answers article {
    background: var(--color-coral-light);
}

.refs .card,
.refs article {
    background: var(--color-earth-light);
}

.help .card,
.help article {
    background: var(--color-sage-light);
}

/* Challenge cards - alternating colors */
.challenge-card {
    background: var(--color-cream);
}

.challenge-card:nth-child(even) {
    background: var(--color-sky-light);
}

.challenge-card:nth-child(3n) {
    background: var(--color-lavender-light);
}

/* Reward badges */
.reward-card,
.reward-item {
    background: var(--color-white);
}

.reward-card.unlocked,
.reward-item.unlocked {
    background: linear-gradient(135deg, var(--color-sage-light) 0%, var(--color-lavender-light) 100%);
}

/* Practice credibility cards */
.practice-credibility-compact {
    background: var(--color-cream);
}

/* Evidence Accordion Styles */
.evidence-accordion {
    margin-top: 1.5rem;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    padding-top: 1rem;
}

.evidence-accordion-item {
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 0.5rem;
}

.evidence-accordion-trigger {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    background: transparent;
    border: none;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-text);
    text-align: left;
    transition: background-color 0.2s ease;
}

.evidence-accordion-trigger:hover {
    background-color: rgba(0, 0, 0, 0.03);
}

.evidence-accordion-icon {
    font-size: 1.5rem;
    font-weight: 300;
    color: var(--color-primary);
    transition: transform 0.2s ease;
}

.evidence-accordion-content {
    padding: 0 1rem 1.5rem 1rem;
    animation: slideDown 0.3s ease;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.evidence-accordion-content p {
    margin-bottom: 1rem;
    line-height: 1.6;
}

.evidence-accordion-content ul {
    margin: 0.75rem 0;
    padding-left: 1.5rem;
}

.evidence-accordion-content li {
    margin-bottom: 0.5rem;
    line-height: 1.6;
}

.evidence-accordion-content strong {
    color: var(--color-primary);
}

/* Evidence metrics cards */
.evidence-metrics .card {
    background: var(--color-white);
}

/* Daily practice player card */
.daily-practice-card {
    background: var(--color-sage-light);
}

/* Playful lab cards */
.lab-card,
.lab-tool-card {
    background: var(--color-coral-light);
}

/* Stats cards */
.stat-card,
.stat-card-large {
    background: var(--color-white);
}

/* Achievement badges */
.achievement-badge {
    background: var(--color-cream);
}

/* Hero Section Enhancements - Full Width */
.hero-section {
    position: relative;
    padding: var(--spacing-2xl) 0;
    background: linear-gradient(135deg, 
        var(--color-sage-light) 0%, 
        var(--color-sky-light) 50%, 
        var(--color-lavender-light) 100%);
    margin-bottom: var(--spacing-2xl);
    width: 100vw;
    max-width: 100vw;
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);
    left: 0;
    right: 0;
    box-sizing: border-box;
    overflow-x: hidden;
}

body[data-page-variant="downloads"] .hero-section {
    padding-bottom: calc(var(--spacing-2xl) + 8vh);
}

body[data-page-variant="downloads"] .hero-section .hero-content-card {
    margin-top: 4vh;
}

.hero-section .page-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--spacing-lg);
}

.hero-section .card,
.hero-full-width,
.hero-content-card {
    width: 88%;
    max-width: 88%;
    margin: 0 auto;
    border-radius: var(--radius-lg);
    padding: var(--spacing-xl) var(--spacing-lg);
    box-sizing: border-box;
    box-shadow: var(--shadow-medium);
    border: 1px solid var(--color-sage-light);
    transition: all var(--transition-base);
}

/* Background gradient for hero content card when not using hero-gradient--home */
.hero-content-card:not(.hero-gradient--home) {
    background: linear-gradient(
        135deg,
        rgba(253, 248, 243, 0.95) 0%,
        rgba(212, 229, 238, 0.92) 20%,
        rgba(221, 213, 231, 0.92) 40%,
        rgba(196, 212, 197, 0.92) 60%,
        rgba(232, 206, 200, 0.92) 80%,
        rgba(253, 248, 243, 0.95) 100%
    ) !important;
    -webkit-backdrop-filter: blur(10px) saturate(180%);
    backdrop-filter: blur(10px) saturate(180%);
}

/* Background image for hero content card */
body[data-page-id="index"] .hero-content-card.hero-gradient--home,
body[data-page-id="index"] article.hero-content-card.hero-gradient--home {
    background-image: url('../img/4-7-8-breathin.png') !important;
    background-size: cover !important;
    background-position: center center !important;
    background-repeat: no-repeat !important;
    position: relative;
    min-height: clamp(700px, 85vh, 900px);
    padding: clamp(2rem, 4vw, 3rem) clamp(1.5rem, 3vw, 2.5rem);
}

body[data-page-id="index"] .hero-content-card.hero-gradient--home::before,
body[data-page-id="index"] article.hero-content-card.hero-gradient--home::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        linear-gradient(
            135deg,
            rgba(253, 248, 243, 0.85) 0%,
            rgba(212, 229, 238, 0.82) 20%,
            rgba(221, 213, 231, 0.82) 40%,
            rgba(196, 212, 197, 0.82) 60%,
            rgba(232, 206, 200, 0.82) 80%,
            rgba(253, 248, 243, 0.85) 100%
        ),
        rgba(0, 0, 0, 0.2);
    z-index: 0;
    pointer-events: none;
    border-radius: inherit;
}

body[data-page-id="index"] .hero-content-card.hero-gradient--home > *,
body[data-page-id="index"] article.hero-content-card.hero-gradient--home > * {
    position: relative;
    z-index: 1;
}

.hero-content-card {
    margin-top: var(--spacing-lg);
    color: var(--color-text);
}

/* Hero content card layout */
body[data-page-id="index"] .hero-content-card {
    position: relative;
    display: grid;
    grid-template-areas: 
        "visual"
        "primary"
        "quick"
        "features";
    gap: clamp(1.5rem, 3vw, 2.25rem);
    align-items: flex-start;
}

body[data-page-id="index"] .hero-content-card .hero-primary {
    grid-area: primary;
}

/* Improve text visibility in hero primary section */
body[data-page-id="index"] .hero-content-card .hero-primary h1 {
    color: var(--color-text);
    font-weight: 700;
    text-shadow: 0 2px 4px rgba(255, 255, 255, 0.8), 0 1px 2px rgba(61, 61, 61, 0.3);
    line-height: 1.2;
    margin-bottom: 1rem;
}

body[data-page-id="index"] .hero-content-card .hero-primary .hero-tagline {
    color: var(--color-text);
    font-size: 1.15rem;
    line-height: 1.7;
    font-weight: 500;
    text-shadow: 
        0 2px 4px rgba(255, 255, 255, 0.95),
        0 1px 2px rgba(255, 255, 255, 0.9),
        0 1px 1px rgba(61, 61, 61, 0.3);
    background: rgba(255, 255, 255, 0.3);
    padding: 1rem 1.25rem;
    border-radius: 0.75rem;
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.4);
    margin-top: 1rem;
    display: inline-block;
    box-shadow: 0 2px 8px rgba(61, 61, 61, 0.1);
}

body[data-page-id="index"] .hero-content-card .hero-primary .hero-tagline strong {
    color: var(--color-text);
    font-weight: 700;
    font-size: 1.2rem;
    text-shadow: 
        0 2px 4px rgba(255, 255, 255, 0.95),
        0 1px 2px rgba(255, 255, 255, 0.9),
        0 1px 1px rgba(61, 61, 61, 0.35);
    display: block;
    margin-bottom: 0.5rem;
}

body[data-page-id="index"] .hero-content-card .hero-quick-start {
    grid-area: quick;
}

/* Quick start button visibility */
/* Quick Start Button Animation */
@keyframes quickStartAnimate {
    0% {
        box-shadow: 0 0 0 0 rgba(234, 179, 8, 0.4), 0 4px 12px rgba(234, 179, 8, 0.2);
        transform: translateX(4%) scale(1);
    }
    25% {
        box-shadow: 0 0 0 4px rgba(234, 179, 8, 0), 0 6px 18px rgba(234, 179, 8, 0.3);
        transform: translateX(calc(4% + 20%)) scale(1.01);
    }
    50% {
        box-shadow: 0 0 0 8px rgba(234, 179, 8, 0), 0 8px 24px rgba(234, 179, 8, 0.4);
        transform: translateX(calc(4% + 80%)) scale(1.02);
    }
    75% {
        box-shadow: 0 0 0 4px rgba(234, 179, 8, 0), 0 6px 18px rgba(234, 179, 8, 0.3);
        transform: translateX(calc(4% + 20%)) scale(1.01);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(234, 179, 8, 0.4), 0 4px 12px rgba(234, 179, 8, 0.2);
        transform: translateX(4%) scale(1);
    }
}

body[data-page-id="index"] .hero-content-card .btn-quick-start {
    position: relative;
    background: linear-gradient(135deg, #fbbf24, #f59e0b) !important;
    border: 2px solid #f59e0b !important;
    color: #1e293b !important;
    font-weight: 700 !important;
    padding: 1rem 2rem !important;
    font-size: 1.1rem !important;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5) !important;
    box-shadow: 0 4px 12px rgba(234, 179, 8, 0.3), 0 0 10px rgba(234, 179, 8, 0.2) !important;
    animation: quickStartAnimate 12s ease-in-out infinite !important;
    transition: all 0.3s ease !important;
    cursor: pointer !important;
    border-radius: 0.75rem !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 0.5rem !important;
}

body[data-page-id="index"] .hero-content-card .btn-quick-start:hover,
body[data-page-id="index"] .hero-content-card .btn-quick-start:focus {
    background: linear-gradient(135deg, #fcd34d, #fbbf24) !important;
    border-color: #fbbf24 !important;
    box-shadow: 0 8px 24px rgba(234, 179, 8, 0.5), 0 0 20px rgba(234, 179, 8, 0.4) !important;
    transform: translateY(-2px) scale(1.03) !important;
    animation-play-state: paused !important;
    outline: 2px solid rgba(234, 179, 8, 0.5) !important;
    outline-offset: 2px !important;
}

body[data-page-id="index"] .hero-content-card .btn-quick-start:active {
    transform: translateY(0) scale(0.98) !important;
    animation-play-state: paused !important;
    box-shadow: 0 2px 8px rgba(234, 179, 8, 0.4) !important;
}

/* Pause animation on touch devices */
@media (hover: none) and (pointer: coarse) {
    body[data-page-id="index"] .hero-content-card .btn-quick-start:active {
        animation-play-state: paused !important;
    }
}

/* Button pulse effect */
body[data-page-id="index"] .hero-content-card .btn-quick-start::before {
    content: '';
    position: absolute;
    inset: -4px;
    border-radius: inherit;
    background: linear-gradient(135deg, rgba(234, 179, 8, 0.3), rgba(234, 179, 8, 0.1));
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: -1;
}

body[data-page-id="index"] .hero-content-card .btn-quick-start:hover::before {
    opacity: 1;
    animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
        opacity: 0.5;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
}

body[data-page-id="index"] .hero-content-card .hero-features {
    grid-area: features;
    background: rgba(255, 255, 255, 0.4);
    padding: 1.5rem;
    border-radius: var(--radius-lg);
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.5);
}

/* Feature titles */
body[data-page-id="index"] .hero-content-card .feature-title {
    color: var(--color-text);
    font-weight: 700;
    font-size: 1.25rem;
    margin-bottom: 1rem;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8), 0 1px 1px rgba(61, 61, 61, 0.2);
}

/* Hero highlights list */
body[data-page-id="index"] .hero-content-card .hero-highlights {
    list-style: none;
    padding: 0;
    margin: 0 0 1.5rem 0;
}

body[data-page-id="index"] .hero-content-card .hero-highlights li {
    color: var(--color-text);
    font-size: 1rem;
    line-height: 1.7;
    margin-bottom: 0.75rem;
    padding-left: 1.5rem;
    position: relative;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8), 0 1px 1px rgba(61, 61, 61, 0.15);
}

body[data-page-id="index"] .hero-content-card .hero-highlights li::before {
    content: "â€¢";
    position: absolute;
    left: 0;
    color: var(--color-sage-dark);
    font-weight: bold;
    font-size: 1.2rem;
}

body[data-page-id="index"] .hero-content-card .hero-highlights li a {
    color: var(--color-sage-dark);
    font-weight: 600;
    text-decoration: underline;
    text-underline-offset: 2px;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.9);
}

body[data-page-id="index"] .hero-content-card .hero-highlights li a:hover {
    color: var(--color-earth);
}

/* Hero badges */
body[data-page-id="index"] .hero-content-card .hero-badges {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-top: 1rem;
}

body[data-page-id="index"] .hero-content-card .hero-badges .badge {
    background: rgba(255, 255, 255, 0.85);
    color: var(--color-text);
    border: 1px solid var(--color-sage-light);
    padding: 0.5rem 1rem;
    border-radius: 999px;
    font-weight: 600;
    font-size: 0.9rem;
    text-shadow: none;
    box-shadow: 0 2px 4px rgba(61, 61, 61, 0.1);
}

/* Hero condition links */
body[data-page-id="index"] .hero-content-card .hero-condition-links {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
}

body[data-page-id="index"] .hero-content-card .hero-condition-links .btn {
    background: rgba(255, 255, 255, 0.9);
    color: var(--color-text);
    border: 1px solid var(--color-sage-light);
    font-weight: 600;
    padding: 0.75rem 1.25rem;
    text-shadow: none;
    box-shadow: 0 2px 4px rgba(61, 61, 61, 0.1);
    transition: all 0.2s ease;
}

body[data-page-id="index"] .hero-content-card .hero-condition-links .btn:hover {
    background: var(--color-white);
    border-color: var(--color-sage);
    box-shadow: 0 4px 8px rgba(61, 61, 61, 0.15);
    transform: translateY(-1px);
}

body[data-page-id="index"] .hero-content-card .nb-hero-orbit {
    grid-area: visual;
    justify-self: center;
}

@media (min-width: 900px) {
    body[data-page-id="index"] .hero-content-card {
        grid-template-columns: minmax(0, 1.25fr) minmax(0, 1fr);
        grid-template-areas: 
            "primary visual"
            "quick visual"
            "features visual";
    }
    
    body[data-page-id="index"] .hero-content-card .nb-hero-orbit {
        justify-self: end;
    }
}

.hero-section .card:hover,
.hero-content-card:hover {
    box-shadow: var(--shadow-lifted);
    transform: translateY(-2px);
    border-color: var(--color-sage);
}

@media (max-width: 768px) {
    .hero-section {
        padding: var(--spacing-xl) 0;
    }
    
    .hero-section .page-container {
        padding: 0 var(--spacing-md);
    }
    
    .hero-section .card,
    .hero-full-width {
        padding: var(--spacing-lg) var(--spacing-md);
        border-radius: var(--radius-md);
    }
}

.hero-section::before {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, 
        transparent 0%, 
        var(--color-sage-light) 50%, 
        transparent 100%);
}

/* Content Sections */
.content-section {
    padding: var(--spacing-2xl) 0;
    position: relative;
}

.content-section:not([class*="section-bg-"]):nth-child(even) {
    background-color: var(--color-white);
}

.content-section:not([class*="section-bg-"]):nth-child(odd) {
    background-color: var(--color-cream);
}

/* When we promote index-style sections site-wide, pages should not keep their own
   solid page-main backgrounds/padding (many pages define these locally). */
body.nb-global-bg .page-main {
    background: transparent;
    padding: 0;
}

/* Grid Enhancements */
.grid-responsive {
    display: grid;
    gap: var(--spacing-lg);
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 300px), 1fr));
}

.grid-responsive-2 {
    display: grid;
    gap: var(--spacing-lg);
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 400px), 1fr));
}

/* Spacing Utilities */
.section-spacing {
    margin-bottom: var(--spacing-2xl);
}

.section-spacing-top {
    margin-top: var(--spacing-2xl);
}

/* Responsive Container */
.page-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--spacing-lg);
}

@media (max-width: 768px) {
    .page-container {
        padding: 0 var(--spacing-md);
    }
    
    .section-bg-cream,
    .section-bg-white,
    .section-bg-sage-light,
    .section-bg-gradient,
    .section-bg-sky-light,
    .hero-section,
    .content-section {
        padding: var(--spacing-xl) 0;
    }
    
    .section-divider,
    .section-divider--thick {
        margin: var(--spacing-xl) 0;
    }
}

/* ============================================
   HOME PAGE SPECIFIC STYLES
   ============================================ */

/* Hero Orbit Visual */
body[data-page-id="index"] .hero-intro-visual--nb {
    grid-area: visual;
    justify-self: end;
    width: 100%;
    display: flex;
    justify-content: flex-end;
}

/* Hero content card - make it relative for absolute positioning of orbit */
body[data-page-id="index"] .hero-content-card {
    position: relative;
}

body[data-page-id="index"] .nb-hero-orbit {
    position: relative;
    width: 100%;
    max-width: clamp(260px, 32vw, 360px);
    border-radius: var(--radius-xl);
    padding: 1.4rem;
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    box-shadow: var(--shadow-lifted);
    display: flex;
    flex-direction: column;
    gap: 1rem;
    color: var(--color-text);
}

body[data-page-id="index"] .nb-orbit-visual {
    position: relative;
    border-radius: var(--radius-lg);
    min-height: 220px;
    background: var(--color-cream);
    border: 1px solid var(--color-sage-light);
    overflow: hidden;
}

body[data-page-id="index"] .nb-orbit-ring {
    position: absolute;
    inset: 18px;
    border-radius: 999px;
    border: 1px dashed var(--color-sage);
}

body[data-page-id="index"] .nb-orbit-ring::after {
    content: "";
    position: absolute;
    inset: 36px;
    border-radius: inherit;
    border: 1px solid var(--color-sky);
    box-shadow: inset 0 0 60px rgba(107, 139, 110, 0.08);
}

@keyframes nb-orbit {
    0% { transform: rotate(0deg) translateX(80px) rotate(0deg); }
    100% { transform: rotate(360deg) translateX(80px) rotate(-360deg); }
}

/* Breathing animation keyframes - 4-2-6 pattern (12 seconds total) */
@keyframes breath-inhale {
    0% { 
        transform: rotate(0deg) translateX(80px) rotate(0deg) scale(0.8);
        opacity: 0.7;
    }
    100% { 
        transform: rotate(120deg) translateX(80px) rotate(-120deg) scale(1.2);
        opacity: 1;
    }
}

@keyframes breath-hold {
    0% { 
        transform: rotate(120deg) translateX(80px) rotate(-120deg) scale(1.2);
        opacity: 1;
    }
    100% { 
        transform: rotate(180deg) translateX(80px) rotate(-180deg) scale(1.2);
        opacity: 1;
    }
}

@keyframes breath-exhale {
    0% { 
        transform: rotate(180deg) translateX(80px) rotate(-180deg) scale(1.2);
        opacity: 1;
    }
    100% { 
        transform: rotate(360deg) translateX(80px) rotate(-360deg) scale(0.8);
        opacity: 0.7;
    }
}

/* Active breathing animation - 4-2-6 pattern */
@keyframes breath-cycle {
    0% { 
        transform: rotate(0deg) translateX(80px) rotate(0deg) scale(0.8);
        opacity: 0.7;
    }
    33.33% { 
        transform: rotate(120deg) translateX(80px) rotate(-120deg) scale(1.2);
        opacity: 1;
    }
    50% { 
        transform: rotate(180deg) translateX(80px) rotate(-180deg) scale(1.2);
        opacity: 1;
    }
    83.33% { 
        transform: rotate(300deg) translateX(80px) rotate(-300deg) scale(0.8);
        opacity: 0.7;
    }
    100% { 
        transform: rotate(360deg) translateX(80px) rotate(-360deg) scale(0.8);
        opacity: 0.7;
    }
}

body[data-page-id="index"] .nb-orbit-orb {
    position: absolute;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 20%, var(--color-white), var(--color-sky));
    box-shadow: 0 14px 30px rgba(168, 197, 216, 0.4);
    animation: nb-orbit 18s linear infinite;
    top: calc(50% - 28px);
    left: calc(50% - 28px);
    transform-origin: center;
    transition: all 0.3s ease;
}

/* Active breathing state */
body[data-page-id="index"] .nb-orbit-orb.breathing {
    animation: breath-cycle 12s ease-in-out infinite;
    background: radial-gradient(circle at 30% 20%, var(--color-white), var(--color-sky));
}

body[data-page-id="index"] .nb-orbit-orb.breathing.inhale {
    animation: breath-inhale 4s ease-in;
    background: radial-gradient(circle at 30% 20%, var(--color-white), var(--color-sky));
    box-shadow: 0 14px 40px rgba(59, 130, 246, 0.6);
}

body[data-page-id="index"] .nb-orbit-orb.breathing.hold {
    animation: breath-hold 2s ease-in-out;
    background: radial-gradient(circle at 30% 20%, var(--color-white), var(--zone-yellow));
    box-shadow: 0 14px 40px rgba(234, 179, 8, 0.6);
}

body[data-page-id="index"] .nb-orbit-orb.breathing.exhale {
    animation: breath-exhale 6s ease-out;
    background: radial-gradient(circle at 30% 20%, var(--color-white), var(--zone-green));
    box-shadow: 0 14px 40px rgba(34, 197, 94, 0.6);
}

/* Orbit header styles */
body[data-page-id="index"] .nb-orbit-header {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

body[data-page-id="index"] .nb-orbit-title {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--color-text);
    text-align: center;
}

body[data-page-id="index"] .nb-orbit-stat {
    align-self: center;
    padding: 0.6rem 1rem;
    border-radius: var(--radius-lg);
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    font-size: 0.78rem;
    color: var(--color-text-muted);
    display: flex;
    flex-direction: column;
    gap: 0.1rem;
    box-shadow: var(--shadow-medium);
    text-align: center;
    width: 100%;
}

body[data-page-id="index"] .nb-orbit-stat-label {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

body[data-page-id="index"] .nb-orbit-stat-value {
    font-size: 1.5rem;
    color: var(--color-text);
    line-height: 1.1;
    font-weight: 700;
}

/* Phase label */
body[data-page-id="index"] .nb-orbit-phase-label {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-text);
    text-shadow: 0 2px 4px rgba(255, 255, 255, 0.8);
    z-index: 10;
    pointer-events: none;
}

/* Orbit controls */
body[data-page-id="index"] .nb-orbit-controls {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    margin-top: 1rem;
    flex-wrap: wrap;
}

body[data-page-id="index"] .nb-orbit-controls .btn {
    padding: 0.65rem 1.25rem;
    font-size: 0.9rem;
    font-weight: 600;
    border-radius: var(--radius-md);
}

body[data-page-id="index"] .nb-orbit-start-btn {
    background: linear-gradient(135deg, var(--color-sky), var(--color-lavender));
    color: var(--color-white);
    border: 2px solid var(--color-sky);
}

body[data-page-id="index"] .nb-orbit-start-btn:hover {
    background: linear-gradient(135deg, var(--color-lavender), var(--color-sky));
    transform: translateY(-2px);
    box-shadow: var(--shadow-medium);
}

/* Orbit guidance text */
body[data-page-id="index"] .nb-orbit-guidance {
    margin: 1rem 0 0 0;
    padding: 0.75rem 1rem;
    font-size: 0.85rem;
    line-height: 1.5;
    color: var(--color-text-muted);
    text-align: center;
    background: var(--color-cream);
    border-radius: var(--radius-md);
    border: 1px solid var(--color-sage-light);
}

/* Active label states */
body[data-page-id="index"] .nb-orbit-label.active {
    background: var(--color-sky-light);
    border-color: var(--color-sky);
    font-weight: 700;
    transform: scale(1.05);
}

body[data-page-id="index"] .nb-orbit-label.active.nb-orbit-label--inhale {
    background: rgba(59, 130, 246, 0.15);
    border-color: var(--color-sky);
}

body[data-page-id="index"] .nb-orbit-label.active.nb-orbit-label--hold {
    background: rgba(234, 179, 8, 0.15);
    border-color: var(--zone-yellow);
}

body[data-page-id="index"] .nb-orbit-label.active.nb-orbit-label--exhale {
    background: rgba(34, 197, 94, 0.15);
    border-color: var(--zone-green);
}

body[data-page-id="index"] .nb-orbit-label-row {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-sm);
    justify-content: space-between;
}

body[data-page-id="index"] .nb-orbit-label {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.35rem 0.8rem;
    border-radius: 999px;
    border: 1px solid var(--color-sage-light);
    font-size: 0.75rem;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    background: var(--color-white);
    color: var(--color-text);
}

body[data-page-id="index"] .nb-orbit-label span {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--color-sky);
    box-shadow: 0 0 10px rgba(168, 197, 216, 0.6);
    display: inline-block;
}

body[data-page-id="index"] .nb-orbit-label--inhale span {
    background: var(--color-sky);
    box-shadow: 0 0 10px rgba(168, 197, 216, 0.6);
}

body[data-page-id="index"] .nb-orbit-label--hold span {
    background: var(--zone-yellow);
    box-shadow: 0 0 10px rgba(229, 199, 107, 0.6);
}

body[data-page-id="index"] .nb-orbit-label--exhale span {
    background: var(--zone-green);
    box-shadow: 0 0 10px rgba(127, 178, 133, 0.6);
}

body[data-page-id="index"] .nb-orbit-stat {
    align-self: flex-start;
    padding: 0.6rem 1rem;
    border-radius: var(--radius-lg);
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    font-size: 0.78rem;
    color: var(--color-text-muted);
    display: flex;
    flex-direction: column;
    gap: 0.1rem;
    box-shadow: var(--shadow-medium);
}

body[data-page-id="index"] .nb-orbit-stat strong {
    font-size: 1.3rem;
    color: var(--color-text);
    line-height: 1.1;
}

body[data-page-id="index"] .nb-orbit-side {
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-lg);
    padding: 0.9rem;
    background: var(--color-cream);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.8);
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
}

body[data-page-id="index"] .nb-orbit-side-title {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-text);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
}

body[data-page-id="index"] .nb-orbit-side-pill {
    display: inline-flex;
    align-items: center;
    gap: 0.3rem;
    padding: 0.2rem 0.7rem;
    border-radius: 999px;
    border: 1px solid var(--color-sky);
    font-size: 0.75rem;
    color: var(--color-text);
    background: var(--color-white);
}

body[data-page-id="index"] .nb-orbit-side-pill span:first-child {
    color: var(--zone-green);
}

body[data-page-id="index"] .nb-orbit-side-body p {
    margin: 0;
    font-size: 0.85rem;
    color: var(--color-text);
}

body[data-page-id="index"] .nb-orbit-mini-metrics {
    display: flex;
    gap: 0.5rem;
}

body[data-page-id="index"] .nb-orbit-mini-metric {
    flex: 1;
    border-radius: 999px;
    border: 1px solid var(--color-sage-light);
    padding: 0.35rem 0.7rem;
    font-size: 0.78rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: var(--color-text-muted);
    background: var(--color-white);
}

body[data-page-id="index"] .nb-orbit-mini-metric b {
    font-size: 0.95rem;
    color: var(--color-text);
}

body[data-page-id="index"] .nb-hero-reset {
    margin-top: 0.85rem;
    padding-top: 0.75rem;
    border-top: 1px dashed var(--color-sage-light);
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
}

body[data-page-id="index"] .nb-hero-reset button {
    align-self: flex-start;
    font-size: 0.85rem;
    padding: 0.35rem 0.95rem;
    border-radius: 999px;
    border: 1px solid var(--color-sage-light);
    background: var(--color-white);
    color: var(--color-text);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-fast);
}

body[data-page-id="index"] .nb-hero-reset button:hover,
body[data-page-id="index"] .nb-hero-reset button:focus-visible {
    border-color: var(--color-sky);
    color: var(--color-sage-dark);
    box-shadow: 0 0 0 2px var(--color-sky-light);
    outline: none;
}

body[data-page-id="index"] .nb-hero-reset small {
    font-size: 0.75rem;
    color: var(--color-text-muted);
}

@media (max-width: 900px) {
    body[data-page-id="index"] .hero-intro-visual--nb {
        justify-content: center;
    }
    body[data-page-id="index"] .nb-hero-orbit {
        max-width: min(360px, 100%);
    }
}

/* Evidence Section */
.home-evidence .evidence-grid {
    display: grid;
    gap: 1.5rem;
}

@media (min-width: 960px) {
    .home-evidence .evidence-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }
}

.evidence-card {
    border: 1px solid var(--color-sage-light);
    border-radius: 1rem;
    padding: 1rem;
    background: var(--color-lavender-light);
}

.evidence-card h3 {
    margin: 0 0 0.4rem;
    font-size: 1rem;
    color: var(--color-text);
}

.evidence-card .evidence-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    font-size: 0.8rem;
    padding: 0.1rem 0.6rem;
    border-radius: 999px;
    border: 1px solid var(--color-sage-light);
    background: var(--color-white);
    margin-bottom: 0.5rem;
    color: var(--color-text);
}

.evidence-card p {
    margin: 0;
    font-size: 0.9rem;
    color: var(--color-text);
}

.home-evidence .evidence-metrics {
    margin-top: 1.25rem;
    display: grid;
    gap: 1rem;
}

@media (min-width: 720px) {
    .home-evidence .evidence-metrics {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
}

.evidence-metric {
    border: 1px solid var(--color-sage-light);
    border-radius: 1rem;
    padding: 1rem;
    background: var(--color-white);
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
}

.evidence-metric__eyebrow {
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--color-text-muted);
    margin: 0;
}

.evidence-metric__value {
    font-size: 1.5rem;
    color: var(--color-text);
    line-height: 1.2;
}

.evidence-metric p {
    margin: 0;
    color: var(--color-text);
    font-size: 0.9rem;
}

/* Challenges Section */
.home-challenges .challenge-metrics {
    display: grid;
    gap: 0.8rem;
    margin: 1rem 0;
}

@media (min-width: 720px) {
    .home-challenges .challenge-metrics {
        grid-template-columns: repeat(4, minmax(0, 1fr));
    }
}

.challenge-metric {
    border: 1px solid var(--color-sage-light);
    border-radius: 0.85rem;
    padding: 0.75rem 0.9rem;
    background: var(--color-white);
}

.challenge-metric span {
    display: block;
    font-size: 0.8rem;
    color: var(--color-text-muted);
}

.challenge-metric strong {
    font-size: 1.25rem;
    display: block;
    color: var(--color-text);
}

.challenge-grid {
    display: grid;
    gap: 1rem;
    grid-template-columns: minmax(0, 1fr);
}

.challenge-card {
    border: 1px solid var(--color-sage-light);
    border-radius: 1rem;
    padding: 1rem;
    background: var(--color-white);
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
}

.challenge-card header h3 {
    margin: 0;
    font-size: 1.1rem;
    color: var(--color-text);
}

.challenge-card .challenge-meta {
    font-size: 0.85rem;
    color: var(--color-text-muted);
    margin: 0;
}

.challenge-card .challenge-why {
    font-size: 0.9rem;
    color: var(--color-text);
    margin: 0;
}

.challenge-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.challenge-progress {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
}

.progress-track {
    width: 100%;
    height: 0.55rem;
    border-radius: 999px;
    background: var(--color-sage-light);
    border: 1px solid var(--color-sage);
    overflow: hidden;
}

.progress-fill {
    display: block;
    height: 100%;
    width: 0;
    background: linear-gradient(90deg, var(--zone-green), var(--color-sky));
    transition: width 0.4s ease;
}

.challenge-progress-label {
    font-size: 0.85rem;
    color: var(--color-text);
}

/* Rewards Section */
.home-rewards .reward-grid {
    display: grid;
    gap: 1rem;
}

@media (min-width: 960px) {
    .home-rewards .reward-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }
}

.reward-card {
    border: 1px dashed var(--color-sage-light);
    border-radius: 1rem;
    padding: 1rem;
    background: var(--color-white);
    transition: all var(--transition-base);
}

.reward-card[data-unlocked="true"] {
    border-style: solid;
    border-color: var(--zone-green);
    transform: translateY(-2px);
    background: var(--zone-green-bg);
}

.reward-card h3 {
    margin: 0;
    font-size: 1rem;
    color: var(--color-text);
}

.reward-card p {
    margin: 0.35rem 0 0;
    color: var(--color-text);
    font-size: 0.9rem;
}

/* ============================================
   PLAYFUL BREATHING LAB - PROFESSIONAL COMPACT RESTRUCTURE
   ============================================ */
.home-tools {
    padding: clamp(1.25rem, 2.5vw, 1.75rem);
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    max-width: 1200px;
    margin: 0 auto;
    width: 100%;
}

.home-tools__header {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(148, 163, 184, 0.15);
}

.home-tools__title {
    margin: 0;
    font-size: clamp(1.35rem, 2vw, 1.65rem);
    font-weight: 700;
    color: var(--color-text);
    line-height: 1.2;
    letter-spacing: -0.01em;
}

.home-tools__description {
    margin: 0;
    font-size: 0.875rem;
    line-height: 1.5;
    color: var(--color-text-muted);
    max-width: 65ch;
}

.home-tools .tools-grid {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    width: 100%;
}

.tool-card {
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    padding: 1.25rem;
    background: var(--color-white);
    display: flex;
    flex-direction: column;
    gap: 1rem;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(15, 23, 42, 0.08);
    width: 100%;
    max-width: 100%;
}

.tool-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(15, 23, 42, 0.12);
    border-color: var(--color-sage);
}

.tool-card__header {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-bottom: 0.25rem;
}

.tool-card__title {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--color-text);
    line-height: 1.3;
    letter-spacing: -0.01em;
}

.tool-card__description {
    margin: 0;
    font-size: 0.85rem;
    line-height: 1.5;
    color: var(--color-text-muted);
}

.tool-card__status {
    padding: 0.75rem 1rem;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.8), rgba(248, 250, 252, 0.9));
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
}

.tool-status-badge {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
}

.tool-status-label {
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-muted);
    font-weight: 600;
}

.tool-status-value {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--color-text);
    line-height: 1.4;
}

.tool-card__visual {
    padding: 1rem 0;
}

.colour-track {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    padding: 1.5rem;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(234, 179, 8, 0.05), rgba(34, 197, 94, 0.05));
    border-radius: var(--radius-md);
    border: 1px solid rgba(148, 163, 184, 0.15);
}

.colour-dot-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
}

.colour-dot {
    width: 3rem;
    height: 3rem;
    border-radius: 50%;
    border: 3px solid var(--color-text);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    transition: all 0.3s ease;
}

.colour-dot:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
}

.colour-dot--blue { 
    background: var(--color-sky);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
}

.colour-label {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-text);
    text-transform: capitalize;
}

.tool-card__tiles {
    padding: 0.5rem 0;
}

.focus-tile-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
}

.focus-tile {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 1rem 0.75rem;
    border: 2px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    background: var(--color-white);
    transition: all 0.2s ease;
    cursor: pointer;
    min-height: 80px;
}

.focus-tile:hover {
    transform: translateY(-2px);
    border-color: var(--color-sky);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
}

.focus-tile[aria-pressed="true"] {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(14, 165, 233, 0.1));
    border-color: var(--color-sky);
    border-width: 2px;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

.focus-tile-icon {
    font-size: 2rem;
    line-height: 1;
    display: block;
    transition: transform 0.3s ease;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.focus-tile-card:hover .focus-tile-icon {
    transform: scale(1.1) rotate(5deg);
}

.focus-tile-card[aria-pressed="true"] .focus-tile-icon {
    transform: scale(1.15);
    animation: iconBounce 0.6s ease-out;
}

@keyframes iconBounce {
    0%, 100% { transform: scale(1.15) translateY(0); }
    50% { transform: scale(1.2) translateY(-5px); }
}

.focus-tile-label {
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--color-text);
    margin: 0;
}

.tile-description {
    margin: 0;
    font-size: 0.75rem;
    line-height: 1.3;
    color: var(--color-text-muted);
    font-weight: 500;
}

.tool-card__actions {
    display: grid;
    grid-template-columns: 1fr;
    gap: 0.625rem;
    margin-top: 0.5rem;
}

@media (min-width: 480px) {
    .tool-card__actions {
        grid-template-columns: repeat(2, 1fr);
    }
}

.tool-card__btn {
    padding: 0.625rem 1rem;
    font-size: 0.85rem;
    font-weight: 600;
    text-align: center;
    white-space: nowrap;
    transition: all 0.2s ease;
}

.tool-card__btn--full {
    grid-column: 1 / -1;
}

.tool-card__btn--secondary {
    background: var(--color-white);
    border-color: var(--color-sage-light);
    color: var(--color-text);
}

.tool-card__btn--secondary:hover {
    background: var(--color-sage-light);
    border-color: var(--color-sage);
}

.tool-card__btn--spin {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.btn-icon {
    font-size: 1.25rem;
    line-height: 1;
}

.btn-text {
    font-weight: 600;
}

.home-tools__footer {
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 2px solid rgba(148, 163, 184, 0.15);
}

/* ============================================
   SAFETY NOTICE CARD - PROFESSIONAL RESTRUCTURE
   ============================================ */
.safety-notice-card {
    padding: 2rem;
    background: linear-gradient(135deg, 
        rgba(234, 179, 8, 0.12) 0%, 
        rgba(251, 191, 36, 0.08) 50%,
        rgba(234, 179, 8, 0.1) 100%);
    border: 2px solid rgba(234, 179, 8, 0.3);
    border-left: 6px solid var(--zone-yellow);
    border-radius: var(--radius-md);
    box-shadow: 0 4px 16px rgba(234, 179, 8, 0.15), 
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
    position: relative;
    overflow: hidden;
}

.safety-notice-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 30%, rgba(234, 179, 8, 0.1), transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(251, 191, 36, 0.08), transparent 50%);
    pointer-events: none;
    z-index: 0;
}

.safety-notice-card > * {
    position: relative;
    z-index: 1;
}

.safety-notice-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid rgba(234, 179, 8, 0.2);
}

.safety-icon-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 60px;
    height: 60px;
    flex-shrink: 0;
}

.safety-icon {
    font-size: 2.5rem;
    line-height: 1;
    display: block;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
    animation: safetyIconFloat 3s ease-in-out infinite;
}

.safety-icon-pulse {
    position: absolute;
    inset: -8px;
    border-radius: 50%;
    border: 3px solid var(--zone-yellow);
    opacity: 0;
    animation: safetyPulse 2s ease-in-out infinite;
}

@keyframes safetyIconFloat {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-3px) rotate(-2deg); }
}

@keyframes safetyPulse {
    0%, 100% {
        opacity: 0;
        transform: scale(0.8);
    }
    50% {
        opacity: 0.6;
        transform: scale(1.1);
    }
}

.safety-notice-title {
    margin: 0;
    font-size: 1.35rem;
    font-weight: 700;
    color: var(--color-text);
    line-height: 1.2;
    flex: 1;
}

.safety-notice-content {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.safety-message {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.safety-primary-text {
    margin: 0;
    font-size: 1.1rem;
    line-height: 1.6;
    color: var(--color-text);
    font-weight: 500;
}

.safety-primary-text strong {
    color: var(--color-text);
    font-weight: 700;
    font-size: 1.15rem;
}

.safety-secondary-text {
    margin: 0;
    font-size: 0.95rem;
    line-height: 1.6;
    color: var(--color-text-muted);
}

.safety-actions {
    padding: 1rem 1.25rem;
    background: rgba(255, 255, 255, 0.6);
    border: 1px solid rgba(234, 179, 8, 0.2);
    border-radius: var(--radius-md);
    -webkit-backdrop-filter: blur(4px);
    backdrop-filter: blur(4px);
}

.safety-tip {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.tip-icon {
    font-size: 1.5rem;
    line-height: 1;
    flex-shrink: 0;
}

.tip-text {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--color-text);
    line-height: 1.5;
}

.safety-notice-footer {
    margin-top: 1.5rem;
    padding-top: 1.25rem;
    border-top: 1px solid rgba(234, 179, 8, 0.2);
}

.safety-disclaimer {
    margin: 0;
    font-size: 0.85rem;
    line-height: 1.6;
    color: var(--color-text-muted);
    font-style: italic;
}

.safety-disclaimer small {
    font-size: inherit;
    color: inherit;
}

@media (max-width: 640px) {
    .safety-notice-card {
        padding: 1.5rem;
    }
    
    .safety-notice-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
    }
    
    .safety-icon-wrapper {
        width: 50px;
        height: 50px;
    }
    
    .safety-icon {
        font-size: 2rem;
    }
    
    .safety-notice-title {
        font-size: 1.15rem;
    }
    
    .safety-primary-text {
        font-size: 1rem;
    }
    
    .safety-primary-text strong {
        font-size: 1.05rem;
    }
    
    .safety-secondary-text {
        font-size: 0.9rem;
    }
    
    .safety-actions {
        padding: 0.875rem 1rem;
    }
    
    .tip-text {
        font-size: 0.9rem;
    }
}

/* ============================================
   GAME ANIMATIONS & INTERACTIONS
   ============================================ */

/* Game Card Base */
.game-card {
    position: relative;
    overflow: hidden;
}

.game-card::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
}

.game-card:hover::before {
    opacity: 1;
}

.game-btn {
    position: relative;
    overflow: hidden;
}

.game-btn::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.game-btn:active::after {
    width: 300px;
    height: 300px;
}

/* ============================================
   BREATH LADDER GAME
   ============================================ */
.ladder-game {
    padding: 1rem 0;
}

.ladder-visual {
    position: relative;
    min-height: 200px;
    margin-bottom: 1rem;
}

.ladder-rungs {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    position: relative;
    padding-left: 3rem;
}

.ladder-rung {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.6rem 0.875rem;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(248, 250, 252, 0.8));
    border: 1.5px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    position: relative;
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    opacity: 0.5;
    transform: translateX(-20px);
}

.ladder-rung.active {
    opacity: 1;
    transform: translateX(0);
    border-color: var(--color-sky);
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(14, 165, 233, 0.1));
    box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3);
}

.ladder-rung.completed {
    opacity: 0.7;
    border-color: var(--zone-green);
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(16, 185, 129, 0.05));
}

.ladder-rung::before {
    content: '';
    position: absolute;
    left: -2.5rem;
    width: 1.5rem;
    height: 2px;
    background: var(--color-sage-light);
    transition: all 0.3s ease;
}

.ladder-rung.active::before {
    background: var(--color-sky);
    box-shadow: 0 0 8px var(--color-sky);
}

.rung-number {
    font-size: 0.95rem;
    font-weight: 700;
    color: var(--color-sky);
    min-width: 1.75rem;
    text-align: center;
}

.rung-pattern {
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--color-text);
    font-family: 'Courier New', monospace;
}

.ladder-climber {
    position: absolute;
    left: 0.4rem;
    top: 0;
    font-size: 1.5rem;
    transition: top 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    z-index: 10;
    filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.2));
}

.climber-icon {
    display: block;
    animation: climberBounce 2s ease-in-out infinite;
}

@keyframes climberBounce {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-5px) rotate(5deg); }
}

.ladder-progress-bar {
    width: 100%;
    height: 8px;
    background: var(--color-sage-light);
    border-radius: 999px;
    overflow: hidden;
    margin-top: 1rem;
    position: relative;
}

.ladder-progress-fill {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, var(--color-sky), var(--zone-green));
    border-radius: inherit;
    transition: width 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 0 12px rgba(59, 130, 246, 0.5);
}

/* ============================================
   BREATHING DEMO VISUALIZATION
   ============================================ */
.breathing-demo {
    margin: 1rem 0;
    padding: 1rem;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(14, 165, 233, 0.03));
    border: 1px solid rgba(59, 130, 246, 0.15);
    border-radius: var(--radius-md);
}

.breathing-demo-header {
    margin-bottom: 0.875rem;
    text-align: center;
}

.breathing-demo-title {
    margin: 0;
    font-size: 0.875rem;
    font-weight: 700;
    color: var(--color-text);
}

.breathing-cycle-visual {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    flex-wrap: wrap;
    margin-bottom: 1rem;
}

.breathing-phase {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.4rem;
    padding: 0.75rem;
    background: var(--color-white);
    border: 1.5px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    min-width: 85px;
    transition: all 0.4s ease;
    position: relative;
}

.breathing-phase.active {
    border-color: var(--color-sky);
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(14, 165, 233, 0.05));
    transform: scale(1.1);
    box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3);
    z-index: 10;
}

.breathing-phase--inhale.active {
    border-color: var(--color-sky);
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(14, 165, 233, 0.1));
}

.breathing-phase--hold.active {
    border-color: var(--zone-yellow);
    background: linear-gradient(135deg, rgba(234, 179, 8, 0.15), rgba(251, 191, 36, 0.1));
}

.breathing-phase--exhale.active {
    border-color: var(--zone-green);
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(16, 185, 129, 0.1));
}

.breathing-phase--rest.active {
    border-color: var(--color-lavender);
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(124, 58, 237, 0.1));
}

.phase-icon {
    width: 45px;
    height: 45px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-sky);
    transition: all 0.4s ease;
}

.breathing-phase--inhale .phase-icon {
    color: var(--color-sky);
}

.breathing-phase--hold .phase-icon {
    color: var(--zone-yellow);
}

.breathing-phase--exhale .phase-icon {
    color: var(--zone-green);
}

.breathing-phase--rest .phase-icon {
    color: var(--color-lavender);
}

.breathing-phase.active .phase-icon {
    transform: scale(1.2);
    animation: phaseIconPulse 2s ease-in-out infinite;
}

.breathing-icon {
    width: 100%;
    height: 100%;
}

.phase-label {
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text);
}

.phase-count {
    font-size: 1.4rem;
    font-weight: 700;
    line-height: 1;
    color: var(--color-text);
    font-family: 'Courier New', monospace;
}

.phase-unit {
    font-size: 0.65rem;
    color: var(--color-text-muted);
    text-transform: lowercase;
}

.phase-indicator {
    position: absolute;
    top: -8px;
    right: -8px;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--color-sage-light);
    border: 2px solid var(--color-white);
    opacity: 0;
    transition: all 0.3s ease;
}

.breathing-phase.active .phase-indicator {
    opacity: 1;
    background: var(--color-sky);
    box-shadow: 0 0 12px rgba(59, 130, 246, 0.6);
    animation: indicatorPulse 1.5s ease-in-out infinite;
}

.breathing-phase--hold.active .phase-indicator {
    background: var(--zone-yellow);
    box-shadow: 0 0 12px rgba(234, 179, 8, 0.6);
}

.breathing-phase--exhale.active .phase-indicator {
    background: var(--zone-green);
    box-shadow: 0 0 12px rgba(34, 197, 94, 0.6);
}

.breathing-phase--rest.active .phase-indicator {
    background: var(--color-lavender);
    box-shadow: 0 0 12px rgba(139, 92, 246, 0.6);
}

.breathing-arrow {
    font-size: 1.5rem;
    color: var(--color-text-muted);
    line-height: 1;
}

.breathing-animation-circle {
    width: 100px;
    height: 100px;
    margin: 1rem auto;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.circle-inner {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 4px solid var(--color-sky);
    background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.9), rgba(59, 130, 246, 0.2));
    transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    z-index: 2;
}

.circle-pulse {
    position: absolute;
    inset: -10px;
    border-radius: 50%;
    border: 2px solid var(--color-sky);
    opacity: 0;
    animation: circlePulse 3s ease-in-out infinite;
}

.breathing-animation-circle.phase-inhale .circle-inner {
    transform: scale(1.3);
    border-color: var(--color-sky);
    background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.9), rgba(59, 130, 246, 0.3));
}

.breathing-animation-circle.phase-inhale .circle-pulse {
    border-color: var(--color-sky);
    animation: circlePulse 4s ease-in-out infinite;
}

.breathing-animation-circle.phase-hold .circle-inner {
    transform: scale(1.3);
    border-color: var(--zone-yellow);
    background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.9), rgba(234, 179, 8, 0.3));
}

.breathing-animation-circle.phase-hold .circle-pulse {
    border-color: var(--zone-yellow);
    animation: circlePulse 2s ease-in-out infinite;
}

.breathing-animation-circle.phase-exhale .circle-inner {
    transform: scale(0.7);
    border-color: var(--zone-green);
    background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.9), rgba(34, 197, 94, 0.3));
}

.breathing-animation-circle.phase-exhale .circle-pulse {
    border-color: var(--zone-green);
    animation: circlePulse 6s ease-in-out infinite;
}

.breathing-animation-circle.phase-rest .circle-inner {
    transform: scale(1);
    border-color: var(--color-lavender);
    background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.9), rgba(139, 92, 246, 0.2));
}

.breathing-animation-circle.phase-rest .circle-pulse {
    border-color: var(--color-lavender);
    animation: circlePulse 3s ease-in-out infinite;
}

@keyframes circlePulse {
    0%, 100% {
        opacity: 0;
        transform: scale(1);
    }
    50% {
        opacity: 0.6;
        transform: scale(1.2);
    }
}

@keyframes phaseIconPulse {
    0%, 100% {
        transform: scale(1.2);
    }
    50% {
        transform: scale(1.3);
    }
}

@keyframes indicatorPulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.2);
    }
}

.breathing-instructions {
    margin-top: 1rem;
    padding: 0.875rem;
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    text-align: center;
}

.instruction-text {
    margin: 0;
    font-size: 0.8rem;
    line-height: 1.5;
    color: var(--color-text);
}

.instruction-icon {
    font-size: 1.2rem;
    margin-right: 0.5rem;
    vertical-align: middle;
}

.instruction-text strong {
    color: var(--color-text);
    font-weight: 700;
}

/* ============================================
   COLOUR BREATHING GAME
   ============================================ */
.colour-breathing-game {
    padding: 1rem 0;
    position: relative;
}

.colour-orbs-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    margin-bottom: 1rem;
    position: relative;
    z-index: 2;
}

.colour-orb-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    position: relative;
}

.colour-orb {
    width: 4rem;
    height: 4rem;
    border-radius: 50%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.4s ease;
    cursor: pointer;
}

.colour-orb--blue {
    background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.9), var(--color-sky));
    box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4);
}

.colour-orb--gold {
    background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.9), var(--zone-yellow));
    box-shadow: 0 8px 24px rgba(234, 179, 8, 0.5);
}

.colour-orb--green {
    background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.9), var(--zone-green));
    box-shadow: 0 8px 24px rgba(34, 197, 94, 0.4);
}

.breathing-orb.active {
    transform: scale(1.3);
    z-index: 10;
}

.orb-pulse {
    position: absolute;
    inset: -10px;
    border-radius: 50%;
    border: 2px solid currentColor;
    opacity: 0;
    animation: orbPulse 3s ease-in-out infinite;
}

.orb-glow {
    position: absolute;
    inset: -20px;
    border-radius: 50%;
    background: radial-gradient(circle, currentColor 0%, transparent 70%);
    opacity: 0;
    filter: blur(10px);
    animation: orbGlow 3s ease-in-out infinite;
}

.colour-orb--blue .orb-pulse,
.colour-orb--blue .orb-glow {
    color: var(--color-sky);
}

.colour-orb--gold .orb-pulse,
.colour-orb--gold .orb-glow {
    color: var(--zone-yellow);
}

.colour-orb--green .orb-pulse,
.colour-orb--green .orb-glow {
    color: var(--zone-green);
}

.breathing-orb.active .orb-pulse {
    animation: orbPulseActive 4s ease-in-out infinite;
}

.breathing-orb.active .orb-glow {
    animation: orbGlowActive 4s ease-in-out infinite;
}

@keyframes orbPulse {
    0%, 100% { opacity: 0; transform: scale(1); }
    50% { opacity: 0.3; transform: scale(1.1); }
}

@keyframes orbGlow {
    0%, 100% { opacity: 0; transform: scale(1); }
    50% { opacity: 0.2; transform: scale(1.2); }
}

@keyframes orbPulseActive {
    0% { opacity: 0; transform: scale(1); }
    25% { opacity: 0.6; transform: scale(1.2); }
    50% { opacity: 0.3; transform: scale(1.1); }
    75% { opacity: 0.6; transform: scale(1.2); }
    100% { opacity: 0; transform: scale(1); }
}

@keyframes orbGlowActive {
    0% { opacity: 0; transform: scale(1); }
    25% { opacity: 0.4; transform: scale(1.3); }
    50% { opacity: 0.2; transform: scale(1.2); }
    75% { opacity: 0.4; transform: scale(1.3); }
    100% { opacity: 0; transform: scale(1); }
}

.breathing-path {
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 4px;
    z-index: 1;
    opacity: 0.3;
}

.path-line {
    position: absolute;
    height: 100%;
    width: 0;
    transition: width 0.6s ease;
    border-radius: 2px;
}

.path-line--blue {
    background: var(--color-sky);
    left: 0;
}

.path-line--gold {
    background: var(--zone-yellow);
    left: 33.33%;
}

.path-line--green {
    background: var(--zone-green);
    left: 66.66%;
}

.path-line.active {
    width: 33.33%;
    opacity: 0.6;
    box-shadow: 0 0 12px currentColor;
}

/* ============================================
   ROULETTE GAME
   ============================================ */
.roulette-guide {
    margin: 1rem 0;
    padding: 1rem;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(14, 165, 233, 0.03));
    border: 1px solid rgba(59, 130, 246, 0.15);
    border-radius: var(--radius-md);
}

.roulette-guide-header {
    margin-bottom: 0.75rem;
    text-align: center;
}

.roulette-guide-title {
    margin: 0;
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--color-text);
}

.roulette-instructions {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
}

.instruction-step {
    display: flex;
    align-items: center;
    gap: 0.625rem;
    padding: 0.625rem 0.875rem;
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    width: 100%;
    max-width: 280px;
}

.step-icon {
    font-size: 1.25rem;
    line-height: 1;
    flex-shrink: 0;
}

.step-text {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-text);
}

.instruction-arrow {
    font-size: 1.25rem;
    color: var(--color-sky);
    line-height: 1;
    animation: arrowBounce 1.5s ease-in-out infinite;
}

@keyframes arrowBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(5px); }
}

.roulette-game {
    padding: 1rem 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.25rem;
}

.roulette-wheel-container {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.wheel-glow {
    position: absolute;
    inset: -20px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(59, 130, 246, 0.2), transparent 70%);
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
    z-index: -1;
}

.roulette-wheel:hover ~ .wheel-glow,
.roulette-wheel.spinning ~ .wheel-glow {
    opacity: 1;
}

.roulette-wheel {
    position: relative;
    width: 360px;
    height: 360px;
    border-radius: 50%;
    background: conic-gradient(
        from 0deg,
        var(--color-sky) 0deg 90deg,
        var(--zone-yellow) 90deg 180deg,
        var(--zone-green) 180deg 270deg,
        var(--color-lavender) 270deg 360deg
    );
    box-shadow: 0 6px 24px rgba(0, 0, 0, 0.2), inset 0 0 30px rgba(255, 255, 255, 0.3);
    transition: transform 3s cubic-bezier(0.23, 1, 0.32, 1);
    border: 10px solid var(--color-white);
}

.roulette-wheel.spinning {
    animation: wheelSpin 3s cubic-bezier(0.23, 1, 0.32, 1);
}

@keyframes wheelSpin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(1080deg); }
}

.wheel-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100px;
    height: 100px;
    background: linear-gradient(135deg, var(--color-white), rgba(248, 250, 252, 0.9));
    border-radius: 50%;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3), inset 0 2px 4px rgba(255, 255, 255, 0.8);
    z-index: 10;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.25rem;
}

.wheel-center-text {
    font-size: 0.85rem;
    font-weight: 700;
    color: var(--color-sky);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    line-height: 1;
}

.wheel-pointer {
    position: absolute;
    top: -20px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 16px solid transparent;
    border-right: 16px solid transparent;
    border-top: 28px solid var(--color-sky);
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

.wheel-segments {
    position: absolute;
    inset: 0;
    border-radius: 50%;
}

.wheel-segment {
    position: absolute;
    width: 50%;
    height: 50%;
    transform-origin: 100% 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding-bottom: 2rem;
    gap: 0.75rem;
}

.wheel-segment.segment-1 {
    transform: rotate(0deg);
}

.wheel-segment.segment-2 {
    transform: rotate(90deg);
}

.wheel-segment.segment-3 {
    transform: rotate(180deg);
}

.wheel-segment.segment-4 {
    transform: rotate(270deg);
}

.segment-label {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--color-white);
    text-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
    transform: rotate(-45deg);
    display: block;
    white-space: nowrap;
}

.segment-icon {
    font-size: 2.25rem;
    display: block;
    transform: rotate(-45deg);
    filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.4));
    line-height: 1;
}

.roulette-options-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    width: 100%;
    max-width: 500px;
}

.roulette-option-card {
    padding: 0.875rem;
    background: var(--color-white);
    border: 1.5px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
}

.roulette-option-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(15, 23, 42, 0.1);
    border-color: var(--color-sage);
}

.roulette-option-card.selected {
    border-color: var(--color-sky);
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(14, 165, 233, 0.05));
    box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3);
    transform: scale(1.02);
    animation: optionCardPulse 2s ease-in-out infinite;
}

@keyframes optionCardPulse {
    0%, 100% {
        box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3);
    }
    50% {
        box-shadow: 0 12px 32px rgba(59, 130, 246, 0.5);
    }
}

.option-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.option-icon {
    font-size: 1.5rem;
    line-height: 1;
    flex-shrink: 0;
}

.option-title {
    margin: 0;
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--color-text);
    line-height: 1.2;
}

.option-description {
    margin: 0;
    font-size: 0.8rem;
    line-height: 1.4;
    color: var(--color-text-muted);
}

.option-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-sky);
    text-decoration: none;
    margin-top: 0.25rem;
    transition: all 0.2s ease;
}

.option-link:hover {
    color: var(--color-sage-dark);
    gap: 0.75rem;
    text-decoration: underline;
}

.option-link::after {
    content: 'â†’';
    transition: transform 0.2s ease;
}

.option-link:hover::after {
    transform: translateX(4px);
}

.wheel-sparkles {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    pointer-events: none;
    opacity: 0;
}

.wheel-sparkles.active {
    animation: sparkle 1s ease-out;
}

@keyframes sparkle {
    0% { opacity: 0; }
    50% { opacity: 1; }
    100% { opacity: 0; }
}

.wheel-sparkles::before,
.wheel-sparkles::after {
    content: 'âœ¨';
    position: absolute;
    font-size: 1.5rem;
    animation: sparkleFloat 1s ease-out;
}

.wheel-sparkles::before {
    top: 20%;
    left: 20%;
}

.wheel-sparkles::after {
    bottom: 20%;
    right: 20%;
}

@keyframes sparkleFloat {
    0% { transform: translate(0, 0) scale(0); opacity: 0; }
    50% { transform: translate(10px, -10px) scale(1); opacity: 1; }
    100% { transform: translate(20px, -20px) scale(0); opacity: 0; }
}

/* ============================================
   FOCUS TILES GAME
   ============================================ */
.focus-tiles-guide {
    margin: 1rem 0;
    padding: 1rem;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(124, 58, 237, 0.03));
    border: 1px solid rgba(139, 92, 246, 0.15);
    border-radius: var(--radius-md);
}

.focus-guide-header {
    margin-bottom: 0.75rem;
    text-align: center;
}

.focus-guide-title {
    margin: 0;
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--color-text);
}

.focus-instructions {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
}

.focus-instruction-step {
    display: flex;
    align-items: center;
    gap: 0.625rem;
    padding: 0.625rem 0.875rem;
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    width: 100%;
    max-width: 280px;
}

.focus-step-icon {
    font-size: 1.25rem;
    line-height: 1;
    flex-shrink: 0;
}

.focus-step-text {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-text);
}

.focus-instruction-arrow {
    font-size: 1.25rem;
    color: var(--color-lavender);
    line-height: 1;
    animation: arrowBounce 1.5s ease-in-out infinite;
}

.focus-tiles-game {
    position: relative;
    padding: 1rem 0;
}

.focus-tile-grid {
    position: relative;
    z-index: 2;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
}

.focus-tile-card {
    position: relative;
    overflow: hidden;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.9));
    border: 1.5px solid var(--color-sage-light);
    min-height: 120px;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
}

.game-tile {
    position: relative;
    overflow: hidden;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.9));
    border: 2px solid var(--color-sage-light);
}

.tile-content {
    position: relative;
    z-index: 2;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    width: 100%;
}

.tile-icon-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 50px;
    height: 50px;
}

.tile-icon-glow {
    position: absolute;
    inset: -8px;
    border-radius: 50%;
    background: radial-gradient(circle, currentColor 0%, transparent 70%);
    opacity: 0;
    filter: blur(8px);
    transition: opacity 0.3s ease;
    z-index: -1;
}

.focus-tile-card:hover .tile-icon-glow {
    opacity: 0.3;
}

.focus-tile-card[aria-pressed="true"] .tile-icon-glow {
    opacity: 0.5;
    animation: iconGlowPulse 2s ease-in-out infinite;
}

@keyframes iconGlowPulse {
    0%, 100% { opacity: 0.5; transform: scale(1); }
    50% { opacity: 0.7; transform: scale(1.1); }
}

.tile-glow {
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    background: linear-gradient(135deg, var(--color-sky), var(--zone-green));
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 0;
    filter: blur(8px);
}

.tile-ripple {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(59, 130, 246, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
    z-index: 1;
}

.game-tile:hover {
    transform: translateY(-4px) scale(1.02);
    border-color: var(--color-sky);
    box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3);
}

.game-tile:hover .tile-glow {
    opacity: 0.4;
}

.game-tile:active .tile-ripple {
    width: 200px;
    height: 200px;
}

.game-tile[aria-pressed="true"] {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(14, 165, 233, 0.15));
    border-color: var(--color-sky);
    border-width: 3px;
    box-shadow: 0 8px 32px rgba(59, 130, 246, 0.4);
    transform: scale(1.05);
}

.game-tile[aria-pressed="true"] .tile-glow {
    opacity: 0.6;
}

.tile-selection-indicator {
    position: absolute;
    width: 100%;
    height: 4px;
    background: linear-gradient(90deg, var(--color-sky), var(--zone-green));
    bottom: -8px;
    left: 0;
    border-radius: 2px;
    opacity: 0;
    transform: scaleX(0);
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 0 12px rgba(59, 130, 246, 0.6);
}

.tile-selection-indicator.active {
    opacity: 1;
    transform: scaleX(1);
}

/* Focus Suggestion Card */
.focus-suggestion-card {
    margin: 1rem 0;
    padding: 1.25rem;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(14, 165, 233, 0.05));
    border: 1.5px solid rgba(59, 130, 246, 0.2);
    border-radius: var(--radius-md);
    transition: all 0.3s ease;
    opacity: 0.6;
    transform: translateY(10px);
}

.focus-suggestion-card.has-suggestion {
    opacity: 1;
    transform: translateY(0);
    border-color: var(--color-sky);
    box-shadow: 0 8px 24px rgba(59, 130, 246, 0.2);
}

.suggestion-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.suggestion-icon {
    font-size: 1.5rem;
    line-height: 1;
    flex-shrink: 0;
}

.suggestion-title {
    margin: 0;
    font-size: 1rem;
    font-weight: 700;
    color: var(--color-text);
}

.suggestion-content {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.suggestion-text {
    margin: 0;
    font-size: 0.9rem;
    line-height: 1.5;
    color: var(--color-text);
    font-weight: 500;
}

.suggestion-technique-link {
    padding-top: 1rem;
    border-top: 1px solid rgba(59, 130, 246, 0.2);
}

.suggestion-technique-link.hidden {
    display: none;
}

.focus-suggestion-card.has-suggestion .suggestion-technique-link {
    display: block;
}

.technique-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--color-sky);
    text-decoration: none;
    transition: all 0.2s ease;
}

.technique-link:hover {
    color: var(--color-sage-dark);
    gap: 0.75rem;
    text-decoration: underline;
}

.technique-link::after {
    content: 'â†’';
    transition: transform 0.2s ease;
}

.technique-link:hover::after {
    transform: translateX(4px);
}

@media (max-width: 640px) {
    .home-tools {
        padding: 1rem;
        gap: 1.25rem;
    }
    
    .home-tools__header {
        padding-bottom: 0.875rem;
        gap: 0.4rem;
    }
    
    .tool-card {
        padding: 1rem;
        gap: 0.875rem;
    }
    
    .breathing-demo {
        padding: 1rem;
        margin: 1rem 0;
    }
    
    .breathing-cycle-visual {
        gap: 0.75rem;
    }
    
    .breathing-phase {
        min-width: 80px;
        padding: 0.75rem;
    }
    
    .phase-icon {
        width: 50px;
        height: 50px;
    }
    
    .phase-count {
        font-size: 1.5rem;
    }
    
    .breathing-arrow {
        font-size: 1.25rem;
    }
    
    .breathing-animation-circle {
        width: 100px;
        height: 100px;
    }
    
    .instruction-text {
        font-size: 0.85rem;
    }
    
    .colour-orbs-container {
        gap: 2rem;
    }
    
    .colour-orb {
        width: 4rem;
        height: 4rem;
    }
    
    .roulette-wheel {
        width: 300px;
        height: 300px;
    }
    
    .wheel-center {
        width: 90px;
        height: 90px;
    }
    
    .wheel-center-text {
        font-size: 0.75rem;
    }
    
    .wheel-pointer {
        top: -16px;
        border-left-width: 12px;
        border-right-width: 12px;
        border-top-width: 22px;
    }
    
    .segment-label {
        font-size: 1rem;
    }
    
    .segment-icon {
        font-size: 2rem;
    }
    
    .wheel-segment {
        padding-bottom: 1.75rem;
    }
    
    .roulette-guide {
        padding: 1rem;
        margin: 1rem 0;
    }
    
    .instruction-step {
        max-width: 100%;
        padding: 0.625rem 0.875rem;
    }
    
    .step-text {
        font-size: 0.85rem;
    }
    
    .roulette-options-grid {
        grid-template-columns: 1fr;
        gap: 0.875rem;
    }
    
    .roulette-option-card {
        padding: 0.875rem;
    }
    
    .ladder-rungs {
        padding-left: 2.5rem;
    }
    
    .focus-tiles-guide {
        padding: 1rem;
        margin: 1rem 0;
    }
    
    .focus-instruction-step {
        max-width: 100%;
        padding: 0.625rem 0.875rem;
    }
    
    .focus-step-text {
        font-size: 0.85rem;
    }
    
    .focus-tile-grid {
        grid-template-columns: 1fr;
        gap: 0.875rem;
    }
    
    .focus-tile-card {
        min-height: 120px;
        padding: 1rem;
    }
    
    .tile-icon-wrapper {
        width: 50px;
        height: 50px;
    }
    
    .focus-tile-icon {
        font-size: 2rem;
    }
    
    .focus-tile-label {
        font-size: 0.95rem;
    }
    
    .tile-description {
        font-size: 0.75rem;
    }
    
    .focus-suggestion-card {
        padding: 1.25rem;
    }
    
    .suggestion-text {
        font-size: 0.9rem;
    }
    
    .tool-card__actions {
        grid-template-columns: 1fr;
    }
    
    .tool-card__btn--full {
        grid-column: 1;
    }
}

.colour-dot--gold { 
    background: var(--zone-yellow); 
    box-shadow: 0 0 12px rgba(229, 199, 107, 0.5); 
}

.colour-dot--green { 
    background: var(--zone-green); 
    box-shadow: 0 0 12px rgba(127, 178, 133, 0.45); 
}

.focus-tile-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.focus-tile[aria-pressed="true"] {
    border-color: var(--color-sky);
    background: var(--color-sky-light);
}

/* Progress Section */
.tech-chart {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin: 1rem 0;
}

.tech-bar {
    display: flex;
    flex-direction: column;
    gap: 0.3rem;
}

.tech-bar-label {
    font-size: 0.85rem;
    color: var(--color-text);
}

.tech-bar-track {
    width: 100%;
    height: 0.65rem;
    border-radius: 999px;
    background: var(--color-sage-light);
    border: 1px solid var(--color-sage);
    overflow: hidden;
}

.tech-bar-fill {
    display: block;
    height: 100%;
    width: 0;
    background: linear-gradient(90deg, var(--color-sky), var(--color-lavender));
    transition: width 0.4s ease;
}

.tech-bar-value {
    font-size: 0.8rem;
    color: var(--color-text-muted);
}

.trend-dots {
    display: flex;
    gap: 0.35rem;
    align-items: center;
}

.trend-dot {
    width: 0.65rem;
    height: 0.65rem;
    border-radius: 50%;
    background: var(--color-sage-light);
    border: 1px solid var(--color-sage);
}

.trend-dot.is-active {
    background: var(--color-sky);
    border-color: var(--color-sky);
}

.insights-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
    font-size: 0.95rem;
    color: var(--color-text);
}

.challenge-progress-list {
    gap: 0.9rem;
}

.challenge-progress-item {
    list-style: none;
    border: 1px solid var(--color-sage-light);
    border-radius: 0.85rem;
    padding: 0.85rem 1rem;
    background: var(--color-white);
    display: flex;
    flex-direction: column;
    gap: 0.55rem;
    box-shadow: var(--shadow-sm);
}

.challenge-progress-item[data-state="complete"] {
    border-color: var(--zone-green);
    box-shadow: var(--shadow-medium);
}

.challenge-progress-head {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 0.75rem;
}

.challenge-progress-name {
    margin: 0;
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-text);
}

.challenge-progress-status {
    margin: 0.15rem 0 0;
    font-size: 0.9rem;
    color: var(--color-text-muted);
}

.challenge-progress-percent {
    font-weight: 650;
    color: var(--color-sage-dark);
    font-size: 1rem;
    white-space: nowrap;
}

.challenge-progress-bar {
    width: 100%;
    height: 0.45rem;
    border-radius: 999px;
    background: var(--color-sage-light);
    border: 1px solid var(--color-sage);
    overflow: hidden;
}

.challenge-progress-bar span {
    display: block;
    height: 100%;
    width: 0;
    border-radius: inherit;
    background: linear-gradient(90deg, var(--color-sky), var(--color-lavender));
    transition: width 0.35s ease;
}

.challenge-progress-meta {
    margin: 0;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    gap: 0.4rem 1.2rem;
}

.challenge-progress-meta div {
    display: flex;
    flex-direction: column;
    gap: 0.1rem;
}

.challenge-progress-meta dt {
    margin: 0;
    font-size: 0.75rem;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    color: var(--color-text-muted);
}

.challenge-progress-meta dd {
    margin: 0;
    font-weight: 600;
    color: var(--color-text);
}

.challenge-progress-empty {
    color: var(--color-text-muted);
    font-style: italic;
}

.home-toast {
    position: fixed;
    left: 50%;
    bottom: 1.5rem;
    transform: translateX(-50%) translateY(120%);
    background: var(--color-white);
    border: 1px solid var(--color-sky);
    color: var(--color-text);
    padding: 0.65rem 1rem;
    border-radius: 999px;
    box-shadow: var(--shadow-lifted);
    transition: transform 0.3s ease, opacity 0.3s ease;
    opacity: 0;
    z-index: 50;
}

.home-toast.is-visible {
    transform: translateX(-50%) translateY(0);
    opacity: 1;
}

.progress-enhanced .progress-header {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
}

@media (min-width: 720px) {
    .progress-enhanced .progress-header {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
    }
}

.progress-new-grid {
    display: grid;
    gap: 1rem;
    margin-top: 1rem;
}

@media (min-width: 960px) {
    .progress-new-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
}

.progress-panel {
    border: 1px solid var(--color-sage-light);
    border-radius: 1rem;
    padding: 1rem;
    background: var(--color-white);
}

/* Hero Grid Button Styles */
#vp-home-hero .hero-grid .btn:not(.danger),
#vp-home-hero .hero-grid .actions .btn:not(.danger),
#vp-home-hero .hero-grid .goals-grid .btn:not(.danger) {
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    color: var(--color-text);
    box-shadow: var(--shadow-sm);
}

#vp-home-hero .hero-grid .btn:not(.danger):hover,
#vp-home-hero .hero-grid .actions .btn:not(.danger):hover,
#vp-home-hero .hero-grid .goals-grid .btn:not(.danger):hover {
    background: var(--color-cream);
    border-color: var(--color-sky);
    color: var(--color-sage-dark);
    transform: translateY(-1px);
}

#vp-home-hero .hero-grid .btn.danger,
#vp-home-hero .hero-grid .actions .btn.danger {
    background: var(--zone-red);
    border: 2px solid var(--zone-red);
    color: var(--color-white);
    box-shadow: var(--shadow-medium);
}

#vp-home-hero {
    min-height: 60vh;
}

/* Print Styles */
@media print {
    .site-header,
    .site-footer,
    .nav-toggle,
    .back-to-top-btn {
        display: none;
    }
    
    body {
        background: white;
    }
    
    .hero-media,
    .hero-bg-autism,
    .hero-bg-dyslexia,
    .hero-bg-home {
        display: none;
    }
    
    .section-divider,
    .section-divider--thick {
        display: none;
    }
}

/* ============================================
   ADDITIONAL HOME PAGE STYLES
   ============================================ */

/* Screen reader only utility */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* Hero grid buttons - using global colors */
#vp-home-hero .hero-grid .btn:not(.danger),
#vp-home-hero .hero-grid .actions .btn:not(.danger),
#vp-home-hero .hero-grid .goals-grid .btn:not(.danger) {
    background: linear-gradient(135deg, rgba(255,255,255,.96), var(--color-sky-light)) !important;
    border: 1px solid var(--color-sage-light) !important;
    color: var(--color-text) !important;
    box-shadow: 0 1px 0 rgba(255,255,255,.85) inset, var(--shadow-medium) !important;
    -webkit-text-fill-color: var(--color-text) !important;
    text-shadow: none !important;
}

#vp-home-hero .hero-grid .btn:not(.danger):hover,
#vp-home-hero .hero-grid .actions .btn:not(.danger):hover,
#vp-home-hero .hero-grid .goals-grid .btn:not(.danger):hover {
    background: linear-gradient(135deg, var(--color-cream), var(--color-sky-light)) !important;
    border-color: var(--color-sky) !important;
    color: var(--color-sage-dark) !important;
    -webkit-text-fill-color: var(--color-sage-dark) !important;
    transform: translateY(-1px);
}

/* SOS 60s reset button with red styling */
#vp-home-hero .hero-grid .btn.danger,
#vp-home-hero .hero-grid .actions .btn.danger {
    background: linear-gradient(135deg, var(--zone-red), #b91c1c) !important;
    border: 2px solid #b91c1c !important;
    color: var(--color-white) !important;
    box-shadow: 0 4px 8px rgba(212, 132, 124, 0.3) !important;
}

/* Hero orbit visual styles - using global colors */
body[data-page-id="index"] .nb-hero-orbit {
    position: absolute;
    top: 2%;
    right: 2%;
    width: auto;
    max-width: clamp(260px, 32vw, 360px);
    border-radius: 28px;
    background: radial-gradient(circle at 18% 12%, var(--color-sky-light), rgba(255,255,255,.75)),
                linear-gradient(150deg, var(--color-cream), var(--color-sky-light));
    border: 1px solid var(--color-sage-light);
    box-shadow: 0 24px 48px rgba(107, 139, 110, 0.15);
    color: var(--color-text);
    z-index: 10;
}

body[data-page-id="index"] .nb-orbit-visual {
    background: radial-gradient(circle at 20% 15%, rgba(168, 197, 216, 0.18), transparent 70%),
                radial-gradient(circle at 70% 80%, rgba(168, 197, 216, 0.2), transparent 70%),
                rgba(255,255,255,.65);
    border: 1px solid var(--color-sage-light);
}

body[data-page-id="index"] .nb-orbit-ring {
    border: 1px dashed var(--color-sage-light);
}

body[data-page-id="index"] .nb-orbit-ring::after {
    border: 1px solid var(--color-sky);
    box-shadow: inset 0 0 60px rgba(107, 139, 110, 0.08);
}

@keyframes nb-orbit {
    0% { transform: rotate(0deg) translateX(80px) rotate(0deg); }
    100% { transform: rotate(360deg) translateX(80px) rotate(-360deg); }
}

body[data-page-id="index"] .nb-orbit-orb {
    background: radial-gradient(circle at 30% 20%, rgba(255,255,255,.95), var(--color-sky));
    box-shadow: 0 14px 30px rgba(168, 197, 216, 0.4);
    animation: nb-orbit 18s linear infinite;
}

body[data-page-id="index"] .nb-orbit-label {
    border: 1px solid var(--color-sage-light);
    background: rgba(255,255,255,.85);
    color: var(--color-text);
}

body[data-page-id="index"] .nb-orbit-label span {
    background: var(--color-sky);
    box-shadow: 0 0 10px rgba(168, 197, 216, 0.6);
}

body[data-page-id="index"] .nb-orbit-label:nth-child(2) span {
    background: var(--zone-yellow);
    box-shadow: 0 0 10px rgba(229, 199, 107, 0.6);
}

body[data-page-id="index"] .nb-orbit-label:nth-child(3) span {
    background: var(--zone-green);
    box-shadow: 0 0 10px rgba(127, 178, 133, 0.6);
}

body[data-page-id="index"] .nb-orbit-stat {
    background: rgba(255,255,255,.92);
    border: 1px solid var(--color-sage-light);
    color: var(--color-text-muted);
    box-shadow: 0 16px 32px rgba(107, 139, 110, 0.12);
}

body[data-page-id="index"] .nb-orbit-stat strong {
    color: var(--color-text);
}

body[data-page-id="index"] .nb-orbit-side {
    border: 1px solid var(--color-sage-light);
    background: var(--color-cream);
    box-shadow: inset 0 1px 0 rgba(255,255,255,.8);
}

body[data-page-id="index"] .nb-orbit-side-title {
    color: var(--color-text);
}

body[data-page-id="index"] .nb-orbit-side-pill {
    border: 1px solid var(--color-sky);
    background: rgba(255,255,255,.9);
    color: var(--color-text);
}

body[data-page-id="index"] .nb-orbit-side-pill span:first-child {
    color: var(--zone-green);
}

body[data-page-id="index"] .nb-orbit-side-body p {
    color: var(--color-text-muted);
}

body[data-page-id="index"] .nb-orbit-mini-metric {
    border: 1px solid var(--color-sage-light);
    color: var(--color-text-muted);
    background: rgba(255,255,255,.85);
}

body[data-page-id="index"] .nb-orbit-mini-metric b {
    color: var(--color-text);
}

body[data-page-id="index"] .nb-hero-reset {
    border-top: 1px dashed var(--color-sage-light);
}

body[data-page-id="index"] .nb-hero-reset button {
    border: 1px solid var(--color-sage-light);
    background: rgba(255,255,255,.94);
    color: var(--color-text);
}

body[data-page-id="index"] .nb-hero-reset button:hover,
body[data-page-id="index"] .nb-hero-reset button:focus-visible {
    border-color: var(--color-sky);
    color: var(--color-sage-dark);
    box-shadow: 0 0 0 2px rgba(168, 197, 216, 0.15);
}

body[data-page-id="index"] .nb-hero-reset small {
    color: var(--color-text-muted);
}

@media (max-width: 900px) {
    body[data-page-id="index"] .hero-intro-visual--nb {
        justify-content: center;
    }
    body[data-page-id="index"] .nb-hero-orbit {
        max-width: min(360px, 100%);
        margin: 0 auto;
    }
}

/* Evidence & Challenge Lab Styling - using global colors */
.evidence-card--orbit {
    padding: clamp(1rem, 3vw, 1.4rem);
    display: flex;
    justify-content: center;
    align-items: center;
}

.hero-intro-visual--card {
    width: 100%;
    max-width: 320px;
    margin-inline: auto;
    padding: clamp(1rem, 3vw, 1.4rem);
    border-radius: var(--radius-xl);
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    box-shadow: var(--shadow-medium);
    display: grid;
    gap: 1rem;
    color: var(--color-text);
}

.hero-intro-visual--card .hero-orbit {
    width: clamp(200px, 28vw, 260px);
    height: clamp(200px, 28vw, 260px);
    margin-inline: auto;
}

.hero-intro-visual--card .hero-stat-chip {
    max-width: 100%;
    margin-inline: auto;
}

.hero-intro-visual--card .hero-orbit-label {
    color: var(--color-text) !important;
    font-weight: 600;
}

.hero-intro-visual--card .hero-stat-chip {
    color: var(--color-text);
    background: var(--color-cream);
    border: 1px solid var(--color-sage-light);
    border-radius: 0.75rem;
    padding: 0.75rem 1rem;
}

.hero-intro-visual--card .hero-stat-chip span {
    color: var(--color-text-muted);
    font-size: 0.85rem;
    display: block;
    margin-bottom: 0.25rem;
}

.hero-intro-visual--card .hero-stat-chip strong {
    color: var(--color-text);
    font-size: 1.25rem;
    font-weight: 700;
}

.hero-intro-visual--card .hero-breath-guidance,
.hero-intro-visual--card #heroBreathPattern {
    color: var(--color-text) !important;
    font-size: 0.875rem;
    line-height: 1.6;
    margin: 0.75rem 0 0 0;
    padding: 0.5rem 0;
    display: block;
    text-align: center;
    font-weight: 500;
}

.home-evidence__orbit h3 {
    color: var(--color-text);
    font-weight: 600;
}

.home-evidence__orbit .muted {
    color: var(--color-text-muted);
}

.home-evidence__orbit .btn {
    color: var(--color-text);
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    font-weight: 600;
}

.home-evidence__orbit .btn:hover {
    background: var(--color-sage-light);
    color: var(--color-text);
}

.home-evidence__orbit-pill {
    color: var(--color-text) !important;
    background: var(--color-sky-light) !important;
    border: 1px solid var(--color-sky) !important;
    font-weight: 600;
}

/* Live Orbit Card Styles - Evidence Section */
.home-evidence__live-orbit {
    margin-top: 2%;
    padding: clamp(0.5rem, 2vw, 1.4rem);
    display: grid;
    justify-items: center;
    align-content: start;
    justify-self: end;
    max-width: 100%;
    grid-area: visual;
    gap: clamp(0.85rem, 2vw, 1.25rem);
    width: 100%;
    margin-inline: auto;
    border-radius: var(--nb-radius-xl);
    background: radial-gradient(circle at 18% 10%, rgba(255, 255, 255, 0.9), rgba(237, 244, 255, 0.82)),
        linear-gradient(165deg, rgba(248, 250, 252, 0.96), rgba(229, 239, 255, 0.92));
    border: 1px solid var(--nb-border-subtle);
    box-shadow: var(--nb-shadow-card);
    -webkit-backdrop-filter: blur(12px);
    backdrop-filter: blur(12px);
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    color: rgb(15, 23, 42);
    box-sizing: inherit;
}

.live-orbit-badge {
    display: inline-block;
    padding: 0.35rem 0.75rem;
    background: var(--color-sky-light);
    color: var(--color-sky-dark);
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    border-radius: var(--radius-md);
    align-self: flex-start;
}

.live-orbit-title {
    margin: 0;
    font-size: clamp(1.5rem, 2.5vw, 1.9rem);
    font-weight: 700;
    color: var(--color-text);
    line-height: 1.2;
}

.live-orbit-description {
    margin: 0;
    font-size: 0.95rem;
    line-height: 1.6;
    color: var(--color-text-muted);
}

/* Visualizer Card - Nested white card */
.live-orbit-visualizer-card {
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-lg);
    padding: 2rem;
    box-shadow: var(--shadow-soft);
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    align-items: center;
}

/* Visual Container */
.live-orbit-visual-container {
    position: relative;
    width: 280px;
    height: 280px;
    margin: 0 auto;
    cursor: pointer;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                filter 0.3s ease;
    border-radius: var(--nb-radius-lg);
    will-change: transform;
}

.live-orbit-visual-container:hover:not(.breathing-active) {
    transform: scale(1.02);
    box-shadow: 0 8px 24px rgba(14, 165, 233, 0.2);
    filter: brightness(1.05);
}

.live-orbit-visual-container.breathing-active {
    cursor: default;
    pointer-events: none;
    animation: breathingContainerPulse 12s ease-in-out infinite;
}

@keyframes breathingContainerPulse {
    0%, 100% {
        filter: brightness(1) saturate(1);
    }
    33.33% {
        filter: brightness(1.1) saturate(1.1);
    }
    50% {
        filter: brightness(1.15) saturate(1.15);
    }
    83.33% {
        filter: brightness(0.95) saturate(0.95);
    }
}

.live-orbit-visualizer-card.session-active {
    box-shadow: 0 8px 24px rgba(59, 130, 246, 0.15);
    border-color: var(--color-sky);
}

/* Phase-specific visual container styles */
.live-orbit-visual-container.phase-inhale {
    --phase-color: var(--color-sky);
}

.live-orbit-visual-container.phase-hold {
    --phase-color: var(--zone-yellow);
}

.live-orbit-visual-container.phase-exhale {
    --phase-color: var(--zone-green);
}

/* Phase pulse animation */
@keyframes phasePulse {
    0% {
        box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4);
    }
    50% {
        box-shadow: 0 0 0 8px rgba(59, 130, 246, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
    }
}

.live-orbit-visual-container.phase-inhale {
    animation: phasePulse 0.5s ease-out;
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.3);
}

.live-orbit-visual-container.phase-hold {
    animation: phasePulse 0.5s ease-out;
    box-shadow: 0 0 0 0 rgba(234, 179, 8, 0.3);
}

.live-orbit-visual-container.phase-exhale {
    animation: phasePulse 0.5s ease-out;
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.3);
}

.live-orbit-ring {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 200px;
    height: 200px;
    border-radius: 50%;
    border: 2px dashed var(--color-sage);
    opacity: 0.4;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform, opacity, border-width, border-color;
}

/* Ring breathing animations - synchronized with orb */
.live-orbit-visual-container.breathing-active .live-orbit-ring {
    animation: ringBreathe 12s ease-in-out infinite;
}

@keyframes ringBreathe {
    0% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.4;
        border-width: 2px;
    }
    33.33% {
        transform: translate(-50%, -50%) scale(1.15);
        opacity: 0.6;
        border-width: 3px;
    }
    50% {
        transform: translate(-50%, -50%) scale(1.18);
        opacity: 0.65;
        border-width: 3px;
    }
    83.33% {
        transform: translate(-50%, -50%) scale(0.9);
        opacity: 0.35;
        border-width: 1.5px;
    }
    100% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.4;
        border-width: 2px;
    }
}

/* Phase-specific ring colors and breathing */
.live-orbit-visual-container.phase-inhale .live-orbit-ring {
    border-color: var(--nb-primary-light);
    animation: ringInhale 4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes ringInhale {
    0% {
        transform: translate(-50%, -50%) scale(0.95);
        opacity: 0.35;
        border-width: 1.5px;
        border-color: var(--nb-primary-light);
    }
    50% {
        transform: translate(-50%, -50%) scale(1.12);
        opacity: 0.6;
        border-width: 3px;
        border-color: var(--nb-primary);
    }
    100% {
        transform: translate(-50%, -50%) scale(1.15);
        opacity: 0.65;
        border-width: 3px;
        border-color: var(--nb-primary);
    }
}

.live-orbit-visual-container.phase-hold .live-orbit-ring {
    border-color: var(--zone-yellow);
    animation: ringHold 2s ease-in-out forwards;
}

@keyframes ringHold {
    0%, 100% {
        transform: translate(-50%, -50%) scale(1.15);
        opacity: 0.65;
        border-width: 3px;
    }
    50% {
        transform: translate(-50%, -50%) scale(1.18);
        opacity: 0.7;
        border-width: 3.5px;
    }
}

.live-orbit-visual-container.phase-exhale .live-orbit-ring {
    border-color: var(--zone-green);
    animation: ringExhale 6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes ringExhale {
    0% {
        transform: translate(-50%, -50%) scale(1.15);
        opacity: 0.65;
        border-width: 3px;
        border-color: var(--zone-yellow);
    }
    30% {
        transform: translate(-50%, -50%) scale(1.05);
        opacity: 0.5;
        border-width: 2.5px;
        border-color: var(--zone-green);
    }
    100% {
        transform: translate(-50%, -50%) scale(0.9);
        opacity: 0.3;
        border-width: 1.5px;
        border-color: var(--zone-green);
    }
}

/* Phase indicator arc (yellow gradient for inhale) */
.live-orbit-phase-indicator {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 200px;
    height: 200px;
    border-radius: 50%;
    border: 3px solid transparent;
    border-top-color: var(--zone-yellow);
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
}

.live-orbit-phase-indicator.active {
    opacity: 0.6;
}

.live-orbit-phase-indicator.inhale {
    border-top-color: var(--color-sky);
    border-right-color: var(--color-sky);
}

.live-orbit-phase-indicator.hold {
    border-top-color: var(--zone-yellow);
    border-right-color: var(--zone-yellow);
}

.live-orbit-phase-indicator.exhale {
    border-top-color: var(--zone-green);
    border-right-color: var(--zone-green);
    border-bottom-color: var(--zone-green);
}

/* Orb - Professional Breathing Animations */
.live-orbit-orb {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 96px;
    height: 96px;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 20%, rgba(255, 255, 255, 0.95), var(--nb-primary-light));
    box-shadow: 0 8px 24px rgba(14, 165, 233, 0.3),
                0 0 0 0 rgba(14, 165, 233, 0.4);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform, box-shadow, background, width, height;
    animation: orbIdle 3s ease-in-out infinite;
}

/* Idle breathing animation when not active */
@keyframes orbIdle {
    0%, 100% {
        transform: translate(-50%, -50%) scale(1);
        width: 80px;
        height: 80px;
    }
    50% {
        transform: translate(-50%, -50%) scale(1.05);
        width: 84px;
        height: 84px;
    }
}

/* Orb inner - displays countdown */
.live-orbit-orb-inner {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--color-white);
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* Active breathing - synchronized with ring */
.live-orbit-visual-container.breathing-active .live-orbit-orb {
    animation: none; /* Override idle when active */
}

/* Inhale Phase - Smooth expansion with blue glow - synchronized breathing */
.live-orbit-orb.breathing.inhale {
    background: radial-gradient(circle at 30% 20%, 
        rgba(255, 255, 255, 0.98), 
        var(--nb-primary-light) 60%,
        var(--nb-primary) 100%);
    animation: orbInhale 4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes orbInhale {
    0% {
        transform: translate(-50%, -50%) scale(0.85);
        width: 68px;
        height: 68px;
        opacity: 0.85;
        box-shadow: 0 8px 24px rgba(14, 165, 233, 0.3),
                    0 0 0 0 rgba(14, 165, 233, 0.2),
                    inset 0 0 20px rgba(14, 165, 233, 0.1);
    }
    30% {
        transform: translate(-50%, -50%) scale(1.1);
        width: 88px;
        height: 88px;
        opacity: 0.95;
        box-shadow: 0 12px 36px rgba(14, 165, 233, 0.45),
                    0 0 0 6px rgba(14, 165, 233, 0.18),
                    inset 0 0 30px rgba(14, 165, 233, 0.15);
    }
    60% {
        transform: translate(-50%, -50%) scale(1.25);
        width: 100px;
        height: 100px;
        opacity: 1;
        box-shadow: 0 20px 56px rgba(14, 165, 233, 0.6),
                    0 0 0 12px rgba(14, 165, 233, 0.25),
                    0 0 0 24px rgba(14, 165, 233, 0.15),
                    inset 0 0 40px rgba(14, 165, 233, 0.2);
    }
    100% {
        transform: translate(-50%, -50%) scale(1.3);
        width: 104px;
        height: 104px;
        opacity: 1;
        box-shadow: 0 16px 48px rgba(14, 165, 233, 0.5),
                    0 0 0 8px rgba(14, 165, 233, 0.2),
                    0 0 0 16px rgba(14, 165, 233, 0.1),
                    inset 0 0 35px rgba(14, 165, 233, 0.18);
    }
}

/* Hold Phase - Steady with golden glow - subtle breathing */
.live-orbit-orb.breathing.hold {
    background: radial-gradient(circle at 30% 20%, 
        rgba(255, 255, 255, 0.98), 
        var(--zone-yellow) 60%,
        #f59e0b 100%);
    animation: orbHold 2s ease-in-out forwards;
}

@keyframes orbHold {
    0% {
        transform: translate(-50%, -50%) scale(1.3);
        width: 104px;
        height: 104px;
        opacity: 1;
        box-shadow: 0 16px 48px rgba(234, 179, 8, 0.5),
                    0 0 0 8px rgba(234, 179, 8, 0.2),
                    0 0 0 16px rgba(234, 179, 8, 0.1);
    }
    25% {
        transform: translate(-50%, -50%) scale(1.32);
        width: 106px;
        height: 106px;
        opacity: 1;
        box-shadow: 0 18px 52px rgba(234, 179, 8, 0.55),
                    0 0 0 9px rgba(234, 179, 8, 0.22),
                    0 0 0 18px rgba(234, 179, 8, 0.12);
    }
    50% {
        transform: translate(-50%, -50%) scale(1.33);
        width: 107px;
        height: 107px;
        opacity: 1;
        box-shadow: 0 20px 56px rgba(234, 179, 8, 0.6),
                    0 0 0 10px rgba(234, 179, 8, 0.25),
                    0 0 0 20px rgba(234, 179, 8, 0.15);
    }
    75% {
        transform: translate(-50%, -50%) scale(1.32);
        width: 106px;
        height: 106px;
        opacity: 1;
        box-shadow: 0 18px 52px rgba(234, 179, 8, 0.55),
                    0 0 0 9px rgba(234, 179, 8, 0.22),
                    0 0 0 18px rgba(234, 179, 8, 0.12);
    }
    100% {
        transform: translate(-50%, -50%) scale(1.3);
        width: 104px;
        height: 104px;
        opacity: 1;
        box-shadow: 0 16px 48px rgba(234, 179, 8, 0.5),
                    0 0 0 8px rgba(234, 179, 8, 0.2),
                    0 0 0 16px rgba(234, 179, 8, 0.1);
    }
}

/* Exhale Phase - Smooth contraction with green glow - synchronized breathing */
.live-orbit-orb.breathing.exhale {
    background: radial-gradient(circle at 30% 20%, 
        rgba(255, 255, 255, 0.95), 
        var(--zone-green) 60%,
        #16a34a 100%);
    animation: orbExhale 6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes orbExhale {
    0% {
        transform: translate(-50%, -50%) scale(1.3);
        width: 104px;
        height: 104px;
        opacity: 1;
        box-shadow: 0 16px 48px rgba(34, 197, 94, 0.3),
                    0 0 0 8px rgba(34, 197, 94, 0.2),
                    0 0 0 16px rgba(34, 197, 94, 0.1),
                    inset 0 0 35px rgba(34, 197, 94, 0.15);
    }
    20% {
        transform: translate(-50%, -50%) scale(1.15);
        width: 92px;
        height: 92px;
        opacity: 0.98;
        box-shadow: 0 14px 42px rgba(34, 197, 94, 0.32),
                    0 0 0 7px rgba(34, 197, 94, 0.18),
                    0 0 0 14px rgba(34, 197, 94, 0.09),
                    inset 0 0 30px rgba(34, 197, 94, 0.12);
    }
    40% {
        transform: translate(-50%, -50%) scale(0.95);
        width: 76px;
        height: 76px;
        opacity: 0.95;
        box-shadow: 0 12px 36px rgba(34, 197, 94, 0.35),
                    0 0 0 6px rgba(34, 197, 94, 0.16),
                    0 0 0 12px rgba(34, 197, 94, 0.08),
                    inset 0 0 25px rgba(34, 197, 94, 0.1);
    }
    60% {
        transform: translate(-50%, -50%) scale(0.85);
        width: 68px;
        height: 68px;
        opacity: 0.92;
        box-shadow: 0 10px 32px rgba(34, 197, 94, 0.38),
                    0 0 0 5px rgba(34, 197, 94, 0.17),
                    0 0 0 10px rgba(34, 197, 94, 0.085),
                    inset 0 0 20px rgba(34, 197, 94, 0.08);
    }
    80% {
        transform: translate(-50%, -50%) scale(0.78);
        width: 62px;
        height: 62px;
        opacity: 0.88;
        box-shadow: 0 12px 36px rgba(34, 197, 94, 0.4),
                    0 0 0 4px rgba(34, 197, 94, 0.15),
                    0 0 0 8px rgba(34, 197, 94, 0.08),
                    inset 0 0 15px rgba(34, 197, 94, 0.06);
    }
    100% {
        transform: translate(-50%, -50%) scale(0.75);
        width: 60px;
        height: 60px;
        opacity: 0.85;
        box-shadow: 0 12px 36px rgba(34, 197, 94, 0.4),
                    0 0 0 4px rgba(34, 197, 94, 0.15),
                    0 0 0 8px rgba(34, 197, 94, 0.08),
                    inset 0 0 12px rgba(34, 197, 94, 0.05);
    }
}

/* Labels positioned around orb */
.live-orbit-label {
    position: absolute;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.4rem 0.8rem;
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: 999px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text);
    box-shadow: var(--shadow-soft);
    transition: all 0.3s ease;
}

.live-orbit-label-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    display: inline-block;
}

.live-orbit-label--inhale {
    top: 20px;
    left: 30px;
}

.live-orbit-label--inhale .live-orbit-label-dot {
    background: var(--color-sky);
    box-shadow: 0 0 8px rgba(59, 130, 246, 0.6);
}

.live-orbit-label--hold {
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
}

.live-orbit-label--hold .live-orbit-label-dot {
    background: var(--zone-yellow);
    box-shadow: 0 0 8px rgba(234, 179, 8, 0.6);
}

.live-orbit-label--exhale {
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
}

.live-orbit-label--exhale .live-orbit-label-dot {
    background: var(--zone-green);
    box-shadow: 0 0 8px rgba(34, 197, 94, 0.6);
}

.live-orbit-label.active {
    background: var(--color-sky-light);
    border-color: var(--color-sky);
    transform: scale(1.1);
}

.live-orbit-label--hold.active {
    background: rgba(234, 179, 8, 0.15);
    border-color: var(--zone-yellow);
}

.live-orbit-label--exhale.active {
    background: rgba(34, 197, 94, 0.15);
    border-color: var(--zone-green);
}

/* Minutes Display */
.live-orbit-minutes-display {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem 1.5rem;
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    width: 100%;
    max-width: 300px;
}

.live-orbit-minutes-label {
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-text-muted);
    font-weight: 600;
}

.live-orbit-minutes-value {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-text);
    line-height: 1.2;
}

/* Controls */
.live-orbit-controls {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.live-orbit-controls .btn {
    padding: 0.65rem 1.25rem;
    font-size: 0.9rem;
    font-weight: 600;
    border-radius: var(--radius-md);
}

.live-orbit-start-btn {
    background: linear-gradient(135deg, var(--color-sky), var(--color-lavender));
    color: var(--color-white);
    border: 2px solid var(--color-sky);
}

.live-orbit-start-btn:hover {
    background: linear-gradient(135deg, var(--color-lavender), var(--color-sky));
    transform: translateY(-2px);
    box-shadow: var(--shadow-medium);
}

/* Narrate Button */
.live-orbit-narrate-btn {
    width: 100%;
    padding: 0.75rem 1.5rem;
    background: var(--color-sky-light);
    color: var(--color-sky-dark);
    border: 2px solid var(--color-sky);
    border-radius: var(--radius-md);
    font-size: 0.95rem;
    font-weight: 600;
    transition: all 0.3s ease;
}

.live-orbit-narrate-btn:hover {
    background: var(--color-sky);
    color: var(--color-white);
    transform: translateY(-2px);
    box-shadow: var(--shadow-medium);
}

/* Pattern Info */
.live-orbit-pattern-info {
    margin-top: 0.75rem;
    padding: 0.5rem 1rem;
    background: rgba(59, 130, 246, 0.08);
    border-radius: var(--radius-md);
    font-size: 0.85rem;
    color: var(--color-text);
    text-align: center;
    line-height: 1.4;
}

.live-orbit-pattern-info strong {
    color: var(--color-sky);
    font-weight: 600;
}

/* Evidence Safety Notice */
.evidence-safety-notice {
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(148, 163, 184, 0.2);
}

.evidence-safety-text {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    margin: 0;
    padding: 0.875rem 1.25rem;
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.08), rgba(245, 158, 11, 0.05));
    border: 1px solid rgba(251, 191, 36, 0.25);
    border-radius: var(--radius-md);
    border-left: 3px solid rgba(251, 191, 36, 0.5);
    font-size: 0.875rem;
    line-height: 1.6;
    color: var(--color-text);
    text-align: left;
}

.evidence-safety-icon {
    font-size: 1.25rem;
    line-height: 1;
    flex-shrink: 0;
    margin-top: 0.1rem;
    filter: drop-shadow(0 1px 2px rgba(251, 191, 36, 0.3));
}

.evidence-safety-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    color: var(--color-text-muted);
    font-size: 0.85rem;
    line-height: 1.6;
}

.evidence-safety-content strong {
    color: var(--color-text);
    font-weight: 700;
    font-size: 0.9rem;
    display: block;
    margin-bottom: 0.15rem;
}


@media (max-width: 640px) {
    .evidence-safety-text {
        padding: 0.75rem 1rem;
        font-size: 0.8rem;
        gap: 0.625rem;
    }
    
    .evidence-safety-icon {
        font-size: 1.1rem;
    }
    
    .evidence-safety-content strong {
        font-size: 0.85rem;
    }
    
    .evidence-safety-content {
        font-size: 0.8rem;
    }
}

/* Live Orbit Footer - Focus Training Button */
.live-orbit-footer {
    margin-top: 1.25rem;
    padding-top: 1.25rem;
    border-top: 1px solid rgba(148, 163, 184, 0.2);
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.live-orbit-footer-prompt {
    margin: 0;
    font-size: 0.85rem;
    color: var(--color-text-muted);
    font-weight: 600;
    text-align: center;
    letter-spacing: 0.02em;
}

.live-orbit-pointer-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0.25rem 0;
    height: 2rem;
}

.live-orbit-pointer-icon {
    font-size: 1.5rem;
    display: inline-block;
    animation: pointDownToButton 1.5s ease-in-out infinite;
    filter: drop-shadow(0 2px 4px rgba(34, 197, 94, 0.4));
    line-height: 1;
}

@keyframes pointDownToButton {
    0%, 100% {
        transform: translateY(0) scale(1);
    }
    50% {
        transform: translateY(8px) scale(1.15);
    }
}

.live-orbit-focus-btn {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 0.75rem;
    padding: 0.875rem 1.25rem;
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.12), rgba(16, 185, 129, 0.08));
    border: 2px solid rgba(34, 197, 94, 0.3);
    border-radius: var(--radius-md);
    color: var(--color-text);
    text-decoration: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    font-size: 0.9rem;
    line-height: 1.5;
    cursor: pointer;
    font-family: inherit;
    box-shadow: 0 2px 4px rgba(34, 197, 94, 0.1);
}

.live-orbit-focus-btn:hover,
.live-orbit-focus-btn:focus {
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(16, 185, 129, 0.15));
    border-color: rgba(34, 197, 94, 0.5);
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(34, 197, 94, 0.25);
    outline: 2px solid rgba(34, 197, 94, 0.3);
    outline-offset: 2px;
}

.live-orbit-focus-btn:active {
    transform: translateY(0);
    box-shadow: 0 2px 6px rgba(34, 197, 94, 0.2);
}

.live-orbit-focus-icon {
    font-size: 1.5rem;
    line-height: 1;
    flex-shrink: 0;
    filter: drop-shadow(0 2px 4px rgba(34, 197, 94, 0.3));
    transition: transform 0.3s ease;
}

.live-orbit-focus-btn:hover .live-orbit-focus-icon {
    transform: scale(1.15) rotate(8deg);
}

.live-orbit-focus-text {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.15rem;
    text-align: left;
    color: var(--color-text);
    font-size: 0.875rem;
    line-height: 1.5;
}

.live-orbit-focus-text strong {
    color: var(--zone-green);
    font-weight: 700;
    font-size: 0.95rem;
    letter-spacing: 0.01em;
}

.live-orbit-focus-btn:hover .live-orbit-focus-text strong {
    color: #16a34a;
}

@media (max-width: 640px) {
    .live-orbit-focus-btn {
        padding: 0.75rem 1rem;
        font-size: 0.85rem;
    }
    
    .live-orbit-focus-icon {
        font-size: 1.25rem;
    }
    
    .live-orbit-focus-text strong {
        font-size: 0.9rem;
    }
}

/* Phase Indicator - Enhanced animations */
.live-orbit-phase-indicator {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 200px;
    height: 200px;
    border-radius: 50%;
    border: 3px solid transparent;
    opacity: 0;
    transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    pointer-events: none;
    will-change: opacity, border-color;
}

.live-orbit-phase-indicator.active {
    opacity: 0.7;
    animation: phaseIndicatorPulse 1s ease-in-out infinite;
}

.live-orbit-phase-indicator.inhale {
    border-top-color: var(--nb-primary);
    border-right-color: var(--nb-primary);
    border-top-width: 4px;
    border-right-width: 4px;
    animation: phaseIndicatorRotate 4s linear infinite,
               phaseIndicatorPulse 1s ease-in-out infinite;
}

.live-orbit-phase-indicator.hold {
    border-top-color: var(--zone-yellow);
    border-right-color: var(--zone-yellow);
    border-bottom-color: var(--zone-yellow);
    border-top-width: 4px;
    border-right-width: 4px;
    border-bottom-width: 4px;
    animation: phaseIndicatorPulse 0.8s ease-in-out infinite;
}

.live-orbit-phase-indicator.exhale {
    border-top-color: var(--zone-green);
    border-right-color: var(--zone-green);
    border-bottom-color: var(--zone-green);
    border-left-color: var(--zone-green);
    border-width: 4px;
    animation: phaseIndicatorRotateReverse 6s linear infinite,
               phaseIndicatorPulse 1.2s ease-in-out infinite;
}

@keyframes phaseIndicatorRotate {
    0% {
        transform: translate(-50%, -50%) rotate(0deg);
    }
    100% {
        transform: translate(-50%, -50%) rotate(360deg);
    }
}

@keyframes phaseIndicatorRotateReverse {
    0% {
        transform: translate(-50%, -50%) rotate(360deg);
    }
    100% {
        transform: translate(-50%, -50%) rotate(0deg);
    }
}

@keyframes phaseIndicatorPulse {
    0%, 100% {
        opacity: 0.6;
        transform: translate(-50%, -50%) scale(1);
    }
    50% {
        opacity: 0.9;
        transform: translate(-50%, -50%) scale(1.05);
    }
}

@keyframes breathingContainerPulse {
    0%, 100% {
        filter: brightness(1) saturate(1);
    }
    33.33% {
        filter: brightness(1.1) saturate(1.1);
    }
    50% {
        filter: brightness(1.15) saturate(1.15);
    }
    83.33% {
        filter: brightness(0.95) saturate(0.95);
    }
}

/* Compact Orbit Card Styles (legacy) */
.home-evidence__orbit-compact {
    padding: 1.25rem 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.orbit-compact-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    margin-bottom: 0.5rem;
}

.orbit-compact-header h3 {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--color-text);
    flex: 1;
}

.orbit-compact-stats {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 0.25rem;
    flex-shrink: 0;
}

.orbit-compact-label {
    font-size: 0.75rem;
    color: var(--color-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.orbit-compact-value {
    font-size: 1.25rem;
    color: var(--color-text);
    font-weight: 600;
    line-height: 1.2;
}

.orbit-compact-visual {
    position: relative;
    min-height: 160px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.orbit-compact-orbit {
    width: 140px;
    height: 140px;
    margin: 0 auto;
}

.orbit-compact-labels {
    font-size: 0.75rem;
}

.orbit-compact-controls {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.5rem;
    margin-top: 0.5rem;
}

.orbit-btn {
    padding: 0.6rem 0.75rem;
    font-size: 0.875rem;
    text-align: center;
    white-space: nowrap;
}

.orbit-btn.hidden {
    display: none;
}

@media (max-width: 640px) {
    .orbit-compact-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
    }
    .orbit-compact-stats {
        align-items: flex-start;
    }
    .orbit-compact-controls {
        grid-template-columns: repeat(2, 1fr);
    }
    .orbit-compact-visual {
        min-height: 140px;
    }
    .orbit-compact-orbit {
        width: 120px;
        height: 120px;
    }
}

.home-evidence .evidence-grid {
    display: grid;
    gap: 1.5rem;
}

@media (min-width: 960px) {
    .home-evidence .evidence-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }
}

.evidence-card {
    border: 1px solid var(--color-sage-light);
    border-radius: 1rem;
    padding: 1rem;
    background: var(--color-lavender-light);
}

.evidence-card h3 {
    margin: 0 0 .4rem;
    font-size: 1rem;
    color: var(--color-text);
}

.evidence-card .evidence-badge {
    display: inline-flex;
    align-items: center;
    gap: .35rem;
    font-size: .8rem;
    padding: .1rem .6rem;
    border-radius: 999px;
    border: 1px solid var(--color-sage-light);
    background: var(--color-white);
    margin-bottom: .5rem;
}

.evidence-card p {
    margin: 0;
    font-size: .9rem;
    color: var(--color-text);
}

.home-evidence .evidence-metrics {
    margin-top: 1.25rem;
    display: grid;
    gap: 1rem;
}

@media (min-width: 720px) {
    .home-evidence .evidence-metrics {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
}

.evidence-metric {
    border: 1px solid var(--color-sage-light);
    border-radius: 1rem;
    padding: 1rem;
    background: var(--color-white);
    display: flex;
    flex-direction: column;
    gap: .35rem;
}

.evidence-metric__eyebrow {
    font-size: .8rem;
    text-transform: uppercase;
    letter-spacing: .08em;
    color: var(--color-text-muted);
    margin: 0;
}

.evidence-metric__value {
    font-size: 1.5rem;
    color: var(--color-text);
    line-height: 1.2;
}

.evidence-metric p {
    margin: 0;
    color: var(--color-text);
    font-size: .9rem;
}

/* Hero Controls & Voice Card - using global colors */
body[data-page-id="index"] .hero-control-panel {
    margin-top: 1.25rem;
    display: grid;
    gap: 0.875rem;
    grid-template-columns: 1fr;
}

@media (min-width: 768px) {
    body[data-page-id="index"] .hero-control-panel {
        grid-template-columns: 1fr auto;
        align-items: start;
    }
}

body[data-page-id="index"] .hero-controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    gap: 0.5rem;
    margin: 0;
}

@media (max-width: 640px) {
    body[data-page-id="index"] .hero-controls {
        grid-template-columns: 1fr;
    }
}

body[data-page-id="index"] .hero-controls .btn {
    padding: 0.625rem 1rem;
    font-size: 0.875rem;
    text-align: center;
    white-space: nowrap;
}

body[data-page-id="index"] .hero-voice-card {
    margin: 0;
    padding: 0.875rem 1rem;
    min-width: 0;
}

@media (min-width: 768px) {
    body[data-page-id="index"] .hero-voice-card {
        min-width: 260px;
        max-width: 300px;
    }
}

body[data-page-id="index"] .hero-voice-card__header {
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.625rem;
}

body[data-page-id="index"] .hero-voice-card__icon {
    font-size: 1.25rem;
    flex-shrink: 0;
    color: var(--color-text);
}

body[data-page-id="index"] .hero-voice-card__label {
    display: block;
    font-size: 0.75rem;
    color: var(--color-text-muted);
    margin-bottom: 0.15rem;
}

body[data-page-id="index"] .hero-voice-card__value {
    display: block;
    font-size: 0.9rem;
    color: var(--color-text);
    font-weight: 600;
}

body[data-page-id="index"] .hero-voice-card__status {
    margin: 0.4rem 0;
    font-size: 0.8rem;
    color: var(--color-text-muted);
}

body[data-page-id="index"] .hero-voice-card__cta {
    margin-top: 0.5rem;
}

body[data-page-id="index"] .hero-voice-card__cta .btn {
    width: 100%;
    padding: 0.5rem 0.875rem;
    font-size: 0.85rem;
}

body[data-page-id="index"] .hero-voice-card__cta small {
    display: block;
    margin-top: 0.4rem;
    font-size: 0.7rem;
    color: var(--color-text-muted);
    line-height: 1.4;
}

/* Challenges Section - using global colors */
.home-challenges {
    padding: clamp(1.75rem, 3.5vw, 2.5rem);
}

.home-challenges header {
    margin-bottom: clamp(1.5rem, 3vw, 2rem);
    padding-bottom: clamp(1rem, 2vw, 1.5rem);
    border-bottom: 1px solid var(--color-sage-light);
}

.home-challenges header h2 {
    margin-bottom: 0.75rem;
    font-size: clamp(1.5rem, 2.5vw, 1.9rem);
    color: var(--color-text);
    font-weight: 700;
}

.home-challenges header .muted {
    margin: 0;
    font-size: 0.95rem;
    line-height: 1.6;
    max-width: 75ch;
    color: var(--color-text-muted);
}

.home-challenges__layout {
    display: grid;
    gap: clamp(1.5rem, 3vw, 2.25rem);
    grid-template-columns: 1fr;
    margin-top: clamp(1rem, 2vw, 1.5rem);
}

@media (min-width: 1024px) {
    .home-challenges__layout {
        grid-template-columns: minmax(0, 0.85fr) minmax(0, 1.9fr);
        gap: clamp(1.75rem, 3.5vw, 2.5rem);
        align-items: start;
    }
}

.home-challenges__sidebar {
    order: 2;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin: 0;
    padding: 0;
}

@media (min-width: 1024px) {
    .home-challenges__sidebar {
        order: 1;
        position: sticky;
        top: 1rem;
        align-self: start;
    }
}

.home-challenges__content {
    order: 1;
}

@media (min-width: 1024px) {
    .home-challenges__content {
        order: 2;
    }
}

.home-challenges .challenge-metrics {
    display: grid;
    gap: 0.75rem;
    grid-template-columns: repeat(2, 1fr);
    margin: 0;
    padding: 0;
}

@media (min-width: 640px) {
    .home-challenges .challenge-metrics {
        grid-template-columns: repeat(4, minmax(0, 1fr));
    }
}

@media (min-width: 1024px) {
    .home-challenges .challenge-metrics {
        grid-template-columns: repeat(2, 1fr);
    }
}

.challenge-metric {
    border: 1px solid var(--color-sage-light);
    border-radius: 0.875rem;
    padding: 0.875rem 1rem;
    background: var(--color-white);
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
    margin: 0;
    transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.challenge-metric:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-medium);
    border-color: var(--color-sage);
}

.challenge-metric > * {
    margin: 0;
}

.challenge-metric__label {
    font-size: 0.75rem;
    color: var(--color-text-muted);
    margin: 0;
    font-weight: 500;
    letter-spacing: 0.02em;
}

.challenge-metric__value {
    font-size: clamp(1.2rem, 2.5vw, 1.4rem);
    color: var(--color-text);
    font-weight: 700;
    line-height: 1.2;
    margin: 0;
}

.challenge-metric__value small {
    font-size: 0.7em;
    font-weight: 500;
    opacity: 0.85;
    color: var(--color-text-muted);
}

.challenge-metric__caption {
    font-size: 0.7rem;
    color: var(--color-text-muted);
    margin: 0;
}

.home-challenges__tip {
    padding: 1rem 1.1rem;
    border-radius: 0.875rem;
    background: var(--color-cream);
    border: 1px solid var(--color-sage-light);
    font-size: 0.875rem;
    line-height: 1.6;
    margin: 0;
}

.home-challenges__tip span {
    display: block;
    font-weight: 600;
    color: var(--color-sky);
    margin-bottom: 0.4rem;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
}

.home-challenges__sidebar > *:last-child {
    margin-bottom: 0;
}

.home-challenges__intro {
    margin: 0 0 1.25rem 0;
    font-size: 0.9rem;
    line-height: 1.6;
    color: var(--color-text-muted);
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--color-sage-light);
}

.home-challenges > .muted:last-child {
    margin-top: 1.5rem;
    margin-bottom: 0;
    padding-top: 1.25rem;
    border-top: 1px solid var(--color-sage-light);
    font-size: 0.875rem;
    line-height: 1.6;
    color: var(--color-text-muted);
}

.challenge-grid {
    display: grid;
    gap: 0.875rem;
    grid-template-columns: 1fr;
}

.challenge-card {
    border: 1px solid var(--color-sage-light);
    border-radius: 1rem;
    padding: 1.25rem 1.5rem;
    background: var(--color-white);
    display: flex;
    flex-direction: column;
    gap: 1rem;
    transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.challenge-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-medium);
    border-color: var(--color-sage);
}

.challenge-card header {
    margin: 0;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--color-sage-light);
}

.challenge-card header h3 {
    margin: 0 0 0.5rem 0;
    font-size: 1.15rem;
    line-height: 1.3;
    color: var(--color-text);
    font-weight: 600;
}

.challenge-card .challenge-meta {
    font-size: 0.85rem;
    color: var(--color-text-muted);
    margin: 0;
    line-height: 1.5;
}

.challenge-card .challenge-why {
    font-size: 0.9rem;
    color: var(--color-text);
    margin: 0;
    line-height: 1.6;
}

.challenge-actions {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 0.625rem;
    margin: 0;
}

@media (max-width: 640px) {
    .challenge-actions {
        grid-template-columns: 1fr;
    }
}

.challenge-actions .btn {
    padding: 0.625rem 1rem;
    font-size: 0.875rem;
    text-align: center;
    white-space: nowrap;
}

.challenge-progress {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-top: 0.5rem;
    padding-top: 0.75rem;
    border-top: 1px solid var(--color-sage-light);
}

.progress-track {
    width: 100%;
    height: 0.5rem;
    border-radius: 999px;
    background: var(--color-sage-light);
    border: 1px solid var(--color-sage);
    overflow: hidden;
}

.progress-fill {
    display: block;
    height: 100%;
    width: 0;
    background: linear-gradient(90deg, var(--zone-green), var(--color-sky));
    transition: width .4s ease;
}

.challenge-progress-label {
    font-size: 0.85rem;
    color: var(--color-text);
    font-weight: 600;
    margin: 0;
}

.challenge-progress .challenge-meta {
    font-size: 0.75rem;
    color: var(--color-text-muted);
    margin: 0;
}

.challenge-card > *:first-child {
    margin-top: 0;
}

.challenge-card > *:last-child {
    margin-bottom: 0;
}

.challenge-metric > *:first-child {
    margin-top: 0;
}

.challenge-metric > *:last-child {
    margin-bottom: 0;
}

/* Challenge Tutorial Section */
.challenge-tutorial {
    margin: 1.5rem 0 2rem;
    border-radius: 1rem;
    background: var(--color-cream);
    border: 1px solid var(--color-sage-light);
    overflow: hidden;
}

.tutorial-toggle {
    width: 100%;
    padding: 1rem 1.25rem;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-text);
    text-align: left;
    transition: background-color 0.2s ease;
}

.tutorial-toggle:hover {
    background: rgba(107, 139, 110, 0.08);
}

.tutorial-toggle__icon {
    font-size: 1.25rem;
}

.tutorial-toggle__text {
    flex: 1;
}

.tutorial-toggle__arrow {
    transition: transform 0.3s ease;
    font-size: 0.875rem;
    color: var(--color-text-muted);
}

.tutorial-toggle[aria-expanded="true"] .tutorial-toggle__arrow {
    transform: rotate(180deg);
}

.tutorial-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease;
}

.tutorial-content[aria-hidden="false"] {
    max-height: 5000px;
}

.tutorial-steps {
    padding: 1.5rem 1.25rem;
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.tutorial-step {
    padding-bottom: 2rem;
    border-bottom: 1px solid var(--color-sage-light);
}

.tutorial-step:last-child {
    border-bottom: none;
    padding-bottom: 0;
}

.tutorial-step__header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.25rem;
}

.tutorial-step__number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--color-sky), var(--color-lavender));
    color: white;
    font-weight: 700;
    font-size: 1.1rem;
    flex-shrink: 0;
}

.tutorial-step__header h3 {
    margin: 0;
    font-size: 1.25rem;
    color: var(--color-text);
    font-weight: 600;
}

.tutorial-step__body {
    padding-left: 3.5rem;
}

@media (max-width: 640px) {
    .tutorial-step__body {
        padding-left: 0;
    }
}

.tutorial-text {
    margin: 0 0 1rem;
    line-height: 1.7;
    color: var(--color-text);
    font-size: 0.95rem;
}

.tutorial-list {
    margin: 1rem 0;
    padding-left: 1.5rem;
    color: var(--color-text);
}

.tutorial-list li {
    margin-bottom: 0.5rem;
    line-height: 1.6;
}

/* Tutorial Illustrations */
.tutorial-illustration {
    margin: 1.5rem 0;
    padding: 1.5rem;
    background: var(--color-white);
    border-radius: 0.875rem;
    border: 1px solid var(--color-sage-light);
}

.illustration-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 1rem;
}

.illustration-stat-card {
    padding: 1rem;
    background: var(--color-cream);
    border-radius: 0.75rem;
    border: 1px solid var(--color-sage-light);
    text-align: center;
}

.stat-icon {
    font-size: 1.75rem;
    margin-bottom: 0.5rem;
}

.stat-label {
    font-size: 0.75rem;
    color: var(--color-text-muted);
    margin-bottom: 0.25rem;
}

.stat-value {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--color-text);
}

/* Pulse Animation */
@keyframes pulse {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(107, 139, 110, 0.4);
    }
    50% {
        transform: scale(1.05);
        box-shadow: 0 0 0 8px rgba(107, 139, 110, 0);
    }
}

.pulse-animation {
    animation: pulse 2s ease-in-out infinite;
}

.pulse-delay-1 {
    animation-delay: 0.2s;
}

.pulse-delay-2 {
    animation-delay: 0.4s;
}

/* Card Demo Illustration */
.illustration-card-demo {
    max-width: 500px;
    margin: 0 auto;
}

.demo-card {
    padding: 1.25rem;
    background: var(--color-white);
    border: 2px solid var(--color-sage);
    border-radius: 0.875rem;
    box-shadow: var(--shadow-medium);
}

.demo-card__header h4 {
    margin: 0 0 0.5rem;
    font-size: 1.1rem;
    color: var(--color-text);
}

.demo-meta {
    font-size: 0.85rem;
    color: var(--color-text-muted);
    margin: 0 0 1rem;
}

.demo-card__actions {
    display: flex;
    gap: 0.625rem;
    margin-bottom: 1rem;
}

.demo-btn {
    flex: 1;
    padding: 0.625rem 1rem;
    border: 1px solid var(--color-sage);
    border-radius: 0.5rem;
    background: var(--color-white);
    color: var(--color-text);
    font-size: 0.875rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.demo-btn-primary {
    background: var(--color-sky);
    color: white;
    border-color: var(--color-sky);
}

@keyframes highlight {
    0%, 100% {
        box-shadow: 0 0 0 0 rgba(168, 197, 216, 0.7);
    }
    50% {
        box-shadow: 0 0 0 6px rgba(168, 197, 216, 0);
    }
}

.highlight-pulse {
    animation: highlight 1.5s ease-in-out infinite;
}

.highlight-delay {
    animation-delay: 0.3s;
}

.demo-card__progress {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid var(--color-sage-light);
}

.demo-progress-bar {
    width: 100%;
    height: 0.5rem;
    background: var(--color-sage-light);
    border-radius: 999px;
    overflow: hidden;
    margin-bottom: 0.5rem;
}

.demo-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--zone-green), var(--color-sky));
    border-radius: 999px;
}

@keyframes fillProgress {
    from {
        width: 0%;
    }
    to {
        width: 40%;
    }
}

.fill-animation {
    animation: fillProgress 1.5s ease-out forwards;
}

.demo-progress-text {
    font-size: 0.85rem;
    color: var(--color-text);
    font-weight: 600;
}

/* Interactive Game */
.tutorial-game {
    margin: 1.5rem 0;
    padding: 1.5rem;
    background: var(--color-white);
    border-radius: 0.875rem;
    border: 2px solid var(--color-sky);
}

.game-instructions {
    margin-bottom: 1.25rem;
    padding: 0.875rem 1rem;
    background: var(--color-sky-light);
    border-radius: 0.5rem;
    font-size: 0.9rem;
    line-height: 1.6;
}

.game-card-demo {
    margin-bottom: 1.25rem;
}

.game-card {
    padding: 1.25rem;
    background: var(--color-cream);
    border: 2px solid var(--color-sage);
    border-radius: 0.875rem;
}

.game-card__header h4 {
    margin: 0 0 0.5rem;
    font-size: 1.1rem;
    color: var(--color-text);
}

.game-meta {
    font-size: 0.85rem;
    color: var(--color-text-muted);
    margin: 0 0 1rem;
}

.game-card__actions {
    display: flex;
    gap: 0.625rem;
    margin-bottom: 1rem;
}

.game-btn {
    flex: 1;
    padding: 0.75rem 1rem;
    border: 2px solid var(--color-sage);
    border-radius: 0.5rem;
    background: var(--color-white);
    color: var(--color-text);
    font-size: 0.875rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    overflow: hidden;
}

.game-btn:not(:disabled):hover {
    background: var(--color-sage-light);
    transform: translateY(-1px);
}

.game-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.game-btn-primary {
    background: var(--color-sky);
    color: white;
    border-color: var(--color-sky);
}

.game-btn-primary:not(:disabled):hover {
    background: var(--color-sky);
    filter: brightness(1.1);
}

.game-btn.completed {
    background: var(--zone-green);
    border-color: var(--zone-green);
    color: white;
}

.game-btn .btn-check {
    display: none;
    margin-left: 0.5rem;
}

.game-btn.completed .btn-text {
    display: none;
}

.game-btn.completed .btn-check {
    display: inline;
}

.game-card__progress {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid var(--color-sage-light);
}

.game-progress-bar {
    width: 100%;
    height: 0.5rem;
    background: var(--color-sage-light);
    border-radius: 999px;
    overflow: hidden;
    margin-bottom: 0.5rem;
}

.game-progress-fill {
    height: 100%;
    width: 0;
    background: linear-gradient(90deg, var(--zone-green), var(--color-sky));
    border-radius: 999px;
    transition: width 0.6s ease;
}

.game-progress-text {
    font-size: 0.85rem;
    color: var(--color-text);
    font-weight: 600;
}

.game-feedback {
    padding: 1rem;
    border-radius: 0.5rem;
    margin-bottom: 1rem;
    font-size: 0.9rem;
    line-height: 1.6;
    min-height: 3rem;
    display: flex;
    align-items: center;
}

.game-feedback.success {
    background: var(--zone-green-bg);
    color: var(--zone-green);
    border: 1px solid var(--zone-green);
}

.game-feedback.info {
    background: var(--zone-blue-bg);
    color: var(--zone-blue);
    border: 1px solid var(--zone-blue);
}

.game-reset {
    width: 100%;
    padding: 0.75rem;
    background: var(--color-sage-light);
    border: 1px solid var(--color-sage);
    border-radius: 0.5rem;
    color: var(--color-text);
    font-size: 0.875rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.game-reset:hover {
    background: var(--color-sage);
    color: white;
}

.game-reset.hidden {
    display: none;
}

/* Visual Guide */
.tutorial-visual-guide {
    display: grid;
    gap: 1.25rem;
    margin: 1.5rem 0;
}

.visual-guide-item {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
    padding: 1rem;
    background: var(--color-white);
    border-radius: 0.75rem;
    border: 1px solid var(--color-sage-light);
}

.visual-icon {
    font-size: 2rem;
    flex-shrink: 0;
    width: 3rem;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-cream);
    border-radius: 50%;
}

.visual-content h4 {
    margin: 0 0 0.5rem;
    font-size: 1rem;
    color: var(--color-text);
}

.visual-content p {
    margin: 0;
    font-size: 0.9rem;
    line-height: 1.6;
    color: var(--color-text-muted);
}

/* Breathing Animation */
@keyframes breathe {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.2);
    }
}

.breathe-animation {
    animation: breathe 3s ease-in-out infinite;
}

/* Click Animation */
@keyframes click {
    0%, 100% {
        transform: scale(1) rotate(0deg);
    }
    25% {
        transform: scale(1.1) rotate(-5deg);
    }
    75% {
        transform: scale(1.1) rotate(5deg);
    }
}

.click-animation {
    animation: click 1.5s ease-in-out infinite;
}

/* Timer Animation */
@keyframes timer {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

.timer-animation {
    animation: timer 2s linear infinite;
}

/* Check Animation */
@keyframes check {
    0% {
        transform: scale(0);
    }
    50% {
        transform: scale(1.2);
    }
    100% {
        transform: scale(1);
    }
}

.check-animation {
    animation: check 0.5s ease-out;
}

/* Tips Section */
.tutorial-tips {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin: 1.5rem 0;
}

.tip-card {
    display: flex;
    gap: 1rem;
    padding: 1.25rem;
    background: var(--color-white);
    border-radius: 0.75rem;
    border: 1px solid var(--color-sage-light);
}

.tip-icon {
    font-size: 1.75rem;
    flex-shrink: 0;
}

.tip-content h4 {
    margin: 0 0 0.5rem;
    font-size: 1rem;
    color: var(--color-text);
}

.tip-content p {
    margin: 0;
    font-size: 0.875rem;
    line-height: 1.6;
    color: var(--color-text-muted);
}

/* Tutorial Footer */
.tutorial-footer {
    padding: 1.25rem;
    border-top: 1px solid var(--color-sage-light);
    background: var(--color-cream);
    text-align: center;
}

.tutorial-close {
    padding: 0.875rem 2rem;
    background: var(--color-sky);
    color: white;
    border: none;
    border-radius: 0.5rem;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.tutorial-close:hover {
    background: var(--color-sky);
    filter: brightness(1.1);
    transform: translateY(-1px);
    box-shadow: var(--shadow-medium);
}

@media (max-width: 640px) {
    .tutorial-steps {
        padding: 1rem;
    }
    
    .tutorial-tips {
        grid-template-columns: 1fr;
    }
    
    .illustration-stats {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .game-card__actions {
        flex-direction: column;
    }
}

/* Rewards & Milestones - using global colors */
.home-rewards .reward-grid {
    display: grid;
    gap: 1rem;
}

@media (min-width: 960px) {
    .home-rewards .reward-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }
}

.reward-card {
    border: 1px dashed var(--color-sage-light);
    border-radius: 1rem;
    padding: 1rem;
    background: var(--color-white);
    transition: border-color .2s ease, transform .2s ease;
}

.reward-card[data-unlocked="true"] {
    border-style: solid;
    border-color: var(--color-sage);
    transform: translateY(-2px);
    background: var(--color-sage-light);
}

.reward-card h3 {
    margin: 0;
    font-size: 1rem;
    color: var(--color-text);
}

.reward-card p {
    margin: .35rem 0 0;
    color: var(--color-text);
    font-size: .9rem;
}

/* Reward Tutorial Section */
.reward-tutorial {
    margin: 1.5rem 0 2rem;
    border-radius: 1rem;
    background: var(--color-cream);
    border: 1px solid var(--color-sage-light);
    overflow: hidden;
}

/* Badge Demo Styles */
.badge-demo-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    margin: 1.5rem 0;
    max-width: 500px;
}

.badge-demo-card {
    padding: 1.25rem;
    border-radius: 0.875rem;
    text-align: center;
    border: 2px dashed var(--color-sage-light);
    background: var(--color-white);
    transition: all 0.3s ease;
}

.badge-demo-card.locked {
    opacity: 0.7;
}

.badge-demo-card.unlocked {
    border-style: solid;
    border-color: var(--zone-green);
    background: var(--zone-green-bg);
    box-shadow: var(--shadow-medium);
}

.badge-icon {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
}

.badge-title {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--color-text);
    margin-bottom: 0.5rem;
}

.badge-status {
    font-size: 0.75rem;
    color: var(--color-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-weight: 600;
}

.badge-status.unlocked-text {
    color: var(--zone-green);
}

/* Unlock Animation */
@keyframes unlock {
    0% {
        transform: scale(0.8);
        opacity: 0;
    }
    50% {
        transform: scale(1.1);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

.unlock-animation {
    animation: unlock 0.6s ease-out;
}

/* Unlock Process Flow */
.unlock-process {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin: 1.5rem 0;
    flex-wrap: wrap;
    justify-content: center;
}

.process-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem;
    background: var(--color-white);
    border-radius: 0.75rem;
    border: 1px solid var(--color-sage-light);
    min-width: 140px;
    flex: 1;
    max-width: 200px;
}

.process-icon {
    font-size: 2rem;
    width: 3.5rem;
    height: 3.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-cream);
    border-radius: 50%;
}

.process-arrow {
    font-size: 1.5rem;
    color: var(--color-sage);
    font-weight: 700;
    flex-shrink: 0;
}

.process-content h4 {
    margin: 0 0 0.25rem;
    font-size: 0.95rem;
    color: var(--color-text);
    text-align: center;
}

.process-content p {
    margin: 0;
    font-size: 0.8rem;
    color: var(--color-text-muted);
    text-align: center;
    line-height: 1.4;
}

/* Sparkle Animation */
@keyframes sparkle {
    0%, 100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
    }
    25% {
        transform: scale(1.2) rotate(90deg);
        opacity: 0.8;
    }
    50% {
        transform: scale(1.1) rotate(180deg);
        opacity: 1;
    }
    75% {
        transform: scale(1.2) rotate(270deg);
        opacity: 0.8;
    }
}

.sparkle-animation {
    animation: sparkle 1.5s ease-in-out infinite;
}

/* Badge Types */
.badge-types {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin: 1.5rem 0;
}

.badge-type-card {
    display: flex;
    gap: 1rem;
    padding: 1.25rem;
    background: var(--color-white);
    border-radius: 0.75rem;
    border: 1px solid var(--color-sage-light);
    align-items: flex-start;
}

.badge-type-icon {
    font-size: 1.75rem;
    flex-shrink: 0;
}

.badge-type-content h4 {
    margin: 0 0 0.5rem;
    font-size: 1rem;
    color: var(--color-text);
}

.badge-type-content p {
    margin: 0;
    font-size: 0.875rem;
    line-height: 1.5;
    color: var(--color-text-muted);
}

/* Badge Game */
.badge-game-area {
    margin: 1.5rem 0;
    padding: 1.5rem;
    background: var(--color-white);
    border-radius: 0.875rem;
    border: 2px solid var(--color-sage);
}

.game-badge-card {
    text-align: center;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    border-radius: 0.75rem;
    border: 2px dashed var(--color-sage-light);
    background: var(--color-cream);
    transition: all 0.4s ease;
}

.game-badge-card.unlocked {
    border-style: solid;
    border-color: var(--zone-green);
    background: var(--zone-green-bg);
    box-shadow: var(--shadow-medium);
    animation: unlock 0.6s ease-out;
}

.game-badge-icon {
    font-size: 3rem;
    margin-bottom: 0.75rem;
    display: inline-block;
}

.game-badge-card.unlocked .game-badge-icon {
    animation: sparkle 1s ease-in-out;
}

.game-badge-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--color-text);
    margin-bottom: 0.5rem;
}

.game-badge-description {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-bottom: 0.75rem;
}

.game-badge-status {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-weight: 600;
    color: var(--color-text-muted);
    padding: 0.5rem 1rem;
    background: var(--color-white);
    border-radius: 999px;
    display: inline-block;
}

.game-badge-card.unlocked .game-badge-status {
    color: var(--zone-green);
    background: white;
}

.game-actions {
    display: flex;
    gap: 0.75rem;
    justify-content: center;
}

@media (max-width: 640px) {
    .badge-demo-grid {
        grid-template-columns: 1fr;
    }
    
    .unlock-process {
        flex-direction: column;
    }
    
    .process-arrow {
        transform: rotate(90deg);
    }
    
    .badge-types {
        grid-template-columns: 1fr;
    }
    
    .game-actions {
        flex-direction: column;
    }
}

/* Playful Breathing Lab - using global colors */

.tool-card {
    border: 1px solid var(--color-sage-light);
    border-radius: 1rem;
    padding: 1rem;
    background: var(--color-coral-light);
    display: flex;
    flex-direction: column;
    gap: .5rem;
}

.tool-card h3 {
    margin: 0;
    font-size: 1.05rem;
    color: var(--color-text);
}

.tool-card p {
    margin: 0;
    font-size: .9rem;
    color: var(--color-text);
}

.tool-status {
    font-size: .9rem;
    color: var(--color-text);
    background: var(--color-cream);
    border-radius: .75rem;
    padding: .6rem .8rem;
}

.colour-track {
    display: flex;
    gap: .6rem;
    align-items: center;
}

.colour-dot {
    width: 1.5rem;
    height: 1.5rem;
    border-radius: 50%;
    border: 2px solid var(--color-text);
    box-shadow: 0 0 12px rgba(168, 197, 216, 0.35);
}

.colour-dot--blue {
    background: var(--color-sky);
}

.colour-dot--gold {
    background: var(--zone-yellow);
    box-shadow: 0 0 12px rgba(229, 199, 107, 0.5);
}

.colour-dot--green {
    background: var(--zone-green);
    box-shadow: 0 0 12px rgba(127, 178, 133, 0.45);
}

.focus-tile-grid {
    display: flex;
    flex-wrap: wrap;
    gap: .5rem;
}

.focus-tile[aria-pressed="true"] {
    border-color: var(--color-sky);
    background: rgba(168, 197, 216, 0.15);
}

/* Progress & Insights - using global colors */
.tech-chart {
    display: flex;
    flex-direction: column;
    gap: .75rem;
    margin: 1rem 0;
}

.tech-bar {
    display: flex;
    flex-direction: column;
    gap: .3rem;
}

.tech-bar-label {
    font-size: .85rem;
    color: var(--color-text-muted);
}

.tech-bar-track {
    width: 100%;
    height: .65rem;
    border-radius: 999px;
    background: var(--color-sage-light);
    border: 1px solid var(--color-sage-light);
    overflow: hidden;
}

.tech-bar-fill {
    display: block;
    height: 100%;
    width: 0;
    background: linear-gradient(90deg, var(--color-sky), var(--color-lavender));
    transition: width .4s ease;
}

.tech-bar-value {
    font-size: .8rem;
    color: var(--color-text-muted);
}

.trend-dots {
    display: flex;
    gap: .35rem;
    align-items: center;
}

.trend-dot {
    width: .65rem;
    height: .65rem;
    border-radius: 50%;
    background: var(--color-sage-light);
    border: 1px solid var(--color-sage);
}

.trend-dot.is-active {
    background: var(--color-sky);
    border-color: var(--color-sky);
}

.insights-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: .35rem;
    font-size: .95rem;
    color: var(--color-text);
}

.challenge-progress-list {
    gap: .9rem;
}

.challenge-progress-item {
    list-style: none;
    border: 1px solid var(--color-sage-light);
    border-radius: .85rem;
    padding: .85rem 1rem;
    background: var(--color-white);
    display: flex;
    flex-direction: column;
    gap: .55rem;
    box-shadow: var(--shadow-soft);
}

.challenge-progress-item[data-state="complete"] {
    border-color: var(--color-sage);
    box-shadow: var(--shadow-soft);
    background: var(--color-sage-light);
}

.challenge-progress-head {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: .75rem;
}

.challenge-progress-name {
    margin: 0;
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-text);
}

.challenge-progress-status {
    margin: .15rem 0 0;
    font-size: .9rem;
    color: var(--color-text-muted);
}

.challenge-progress-percent {
    font-weight: 650;
    color: var(--color-text);
    font-size: 1rem;
    white-space: nowrap;
}

.challenge-progress-bar {
    width: 100%;
    height: .45rem;
    border-radius: 999px;
    background: var(--color-sage-light);
    border: 1px solid var(--color-sage);
    overflow: hidden;
}

.challenge-progress-bar span {
    display: block;
    height: 100%;
    width: 0;
    border-radius: inherit;
    background: linear-gradient(90deg, var(--color-sky), var(--color-sky), var(--color-lavender));
    transition: width .35s ease;
}

.challenge-progress-meta {
    margin: 0;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    gap: .4rem 1.2rem;
}

.challenge-progress-meta div {
    display: flex;
    flex-direction: column;
    gap: .1rem;
}

.challenge-progress-meta dt {
    margin: 0;
    font-size: .75rem;
    letter-spacing: .05em;
    text-transform: uppercase;
    color: var(--color-text-muted);
}

.challenge-progress-meta dd {
    margin: 0;
    font-weight: 600;
    color: var(--color-text);
}

.challenge-progress-empty {
    color: var(--color-text-muted);
    font-style: italic;
}

.home-toast {
    position: fixed;
    left: 50%;
    bottom: 1.5rem;
    transform: translateX(-50%) translateY(120%);
    background: var(--color-white);
    border: 1px solid var(--color-sage);
    color: var(--color-text);
    padding: .65rem 1rem;
    border-radius: 999px;
    box-shadow: var(--shadow-lifted);
    transition: transform .3s ease, opacity .3s ease;
    opacity: 0;
    z-index: 50;
}

.home-toast.is-visible {
    transform: translateX(-50%) translateY(0);
    opacity: 1;
}

.progress-enhanced .progress-header {
    display: flex;
    flex-direction: column;
    gap: .8rem;
}

@media (min-width: 720px) {
    .progress-enhanced .progress-header {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
    }
}

.progress-new-grid {
    display: grid;
    gap: 1rem;
    margin-top: 1rem;
}

@media (min-width: 960px) {
    .progress-new-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
}

.progress-panel {
    border: 1px solid var(--color-sage-light);
    border-radius: 1rem;
    padding: 1rem;
    background: var(--color-cream);
}

/* ============================================
   QUICK START MODAL - ANIMATIONS & FUNCTIONALITY
   ============================================ */

/* Modal Overlay */
#quickStartDialog.modal-overlay {
    position: fixed;
    inset: 0;
    z-index: 100;
    display: none;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.6);
    -webkit-backdrop-filter: blur(4px);
    backdrop-filter: blur(4px);
    opacity: 0;
    transition: opacity 0.3s ease;
}

#quickStartDialog.modal-overlay.active {
    display: flex;
    opacity: 1;
}

#quickStartDialog.modal-overlay:not([aria-hidden="false"]) {
    display: none;
}

/* Modal Card */
.home-modal-card {
    width: 100%;
    max-width: 580px;
    max-height: 90vh;
    overflow-y: auto;
    background: rgba(255, 255, 255, 0.98);
    border: 1px solid var(--color-sage-light);
    border-radius: 1.5rem;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    display: flex;
    flex-direction: column;
    gap: 0;
    transform: scale(0.9) translateY(20px);
    transition: transform 0.3s ease, opacity 0.3s ease;
    opacity: 0;
}

#quickStartDialog.modal-overlay.active .home-modal-card {
    transform: scale(1) translateY(0);
    opacity: 1;
}

/* Modal Header */
.modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.5rem 1.75rem;
    border-bottom: 1px solid var(--color-sage-light);
    flex-shrink: 0;
}

.modal-header h3 {
    margin: 0;
    font-size: 1.35rem;
    font-weight: 600;
    color: var(--color-text);
}

.btn-close {
    background: transparent;
    border: none;
    color: var(--color-text-muted);
    font-size: 1.75rem;
    line-height: 1;
    padding: 0.25rem 0.5rem;
    cursor: pointer;
    border-radius: 0.5rem;
    transition: background 0.2s ease, color 0.2s ease;
    width: 2rem;
    height: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

.btn-close:hover,
.btn-close:focus-visible {
    background: var(--color-sage-light);
    color: var(--color-text);
    outline: none;
}

/* Modal Voice Card */
.modal-voice-card {
    padding: 1.25rem 1.75rem;
    border-bottom: 1px solid var(--color-sage-light);
    background: var(--color-cream);
}

.modal-voice-card__header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.voice-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.modal-voice-card__eyebrow {
    margin: 0 0 0.25rem 0;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--color-text-muted);
}

.modal-voice-card__title {
    margin: 0;
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-text);
}

.modal-voice-controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 0.625rem;
    margin-bottom: 0.75rem;
}

@media (max-width: 640px) {
    .modal-voice-controls {
        grid-template-columns: 1fr;
    }
}

.modal-voice-controls .btn,
.modal-voice-controls .voice-select {
    padding: 0.625rem 1rem;
    font-size: 0.875rem;
    text-align: center;
    border-radius: 0.625rem;
    border: 1px solid var(--color-sage-light);
    background: var(--color-white);
    color: var(--color-text);
    transition: all 0.2s ease;
    cursor: pointer;
}

.modal-voice-controls .voice-select {
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236B6B6B' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.75rem center;
    padding-right: 2.5rem;
}

.modal-voice-controls .voice-select:hover {
    border-color: var(--color-sage);
    background-color: var(--color-cream);
}

.modal-voice-controls .voice-select:focus {
    outline: 2px solid var(--color-sky);
    outline-offset: 2px;
    border-color: var(--color-sky);
}

.modal-voice-controls .btn:hover {
    border-color: var(--color-sage);
    background: var(--color-sage-light);
    transform: translateY(-1px);
}

.voice-status {
    margin: 0;
    font-size: 0.8rem;
    color: var(--color-text-muted);
    text-align: center;
}

/* Modal Body */
.modal-body {
    flex: 1;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 0;
}

.modal-desc {
    padding: 1.25rem 1.75rem;
    margin: 0;
    font-size: 0.9rem;
    line-height: 1.6;
    color: var(--color-text-muted);
    border-bottom: 1px solid var(--color-sage-light);
}

/* Technique Options */
.technique-options {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    padding: 1.25rem 1.75rem;
    border-bottom: 1px solid var(--color-sage-light);
}

@media (max-width: 640px) {
    .technique-options {
        grid-template-columns: 1fr;
    }
}

.technique-option {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 1.25rem;
    text-align: left;
    border: 1px solid var(--color-sage-light);
    background: var(--color-white);
    transition: all 0.2s ease;
    position: relative;
    cursor: pointer;
    border-radius: 0.75rem;
}

.technique-option:hover {
    border-color: var(--color-sage);
    background: var(--color-cream);
    transform: translateY(-1px);
    box-shadow: var(--shadow-soft);
}

.technique-option[aria-pressed="true"],
.technique-option.selected {
    border-color: var(--color-sky);
    background: var(--color-sky-light);
    box-shadow: var(--shadow-medium);
}

.technique-option__icon {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.technique-option__copy {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.technique-option__copy strong {
    font-size: 0.95rem;
    color: var(--color-text);
    font-weight: 600;
}

.technique-option__copy small {
    font-size: 0.8rem;
    color: var(--color-text-muted);
}

.selected-badge {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    font-size: 0.7rem;
    padding: 0.2rem 0.5rem;
    background: var(--color-sky);
    border: 1px solid var(--color-sky);
    border-radius: 999px;
    color: var(--color-white);
    font-weight: 600;
}

/* Duration Selector */
.duration-selector {
    padding: 1.25rem 1.75rem;
    border-bottom: 1px solid var(--color-sage-light);
    background: var(--color-cream);
}

.duration-label-group {
    margin-bottom: 1rem;
}

.duration-label {
    display: block;
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--color-text);
    margin-bottom: 0.4rem;
}

.duration-subtext {
    margin: 0;
    font-size: 0.85rem;
    color: var(--color-text-muted);
    line-height: 1.5;
}

.duration-buttons {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 0.625rem;
}

@media (max-width: 640px) {
    .duration-buttons {
        grid-template-columns: repeat(3, 1fr);
    }
}

.duration-btn {
    padding: 0.75rem 0.5rem;
    font-size: 0.875rem;
    text-align: center;
    border: 1px solid var(--color-sage-light);
    background: var(--color-white);
    color: var(--color-text);
    transition: all 0.2s ease;
    font-weight: 500;
    border-radius: 0.625rem;
    cursor: pointer;
}

.duration-btn:hover {
    border-color: var(--color-sage);
    background: var(--color-sage-light);
    color: var(--color-text);
    transform: translateY(-1px);
}

.duration-btn[aria-pressed="true"],
.duration-btn.selected {
    border-color: var(--color-sky);
    background: var(--color-sky-light);
    color: var(--color-text);
    font-weight: 600;
    box-shadow: var(--shadow-soft);
}

/* Breathing Session Area */
.breathing-session-area {
    padding: 1.25rem 1.75rem;
    border-bottom: 1px solid var(--color-sage-light);
}

.breathing-session-area.hidden {
    display: none;
}

.breathing-viz-container {
    width: 100%;
    max-width: 300px;
    height: 300px;
    margin: 0 auto 1.5rem;
    position: relative;
}

.breathing-viz-container svg {
    width: 100%;
    height: 100%;
}

.breathing-controls-panel {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    align-items: center;
}

.phase-label {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--color-text);
    text-align: center;
}

.breathing-progress {
    width: 100%;
    height: 0.5rem;
    border-radius: 999px;
    background: var(--color-sage-light);
    border: 1px solid var(--color-sage);
    overflow: hidden;
    -webkit-appearance: none;
    appearance: none;
}

.breathing-progress::-webkit-progress-bar {
    background: var(--color-sage-light);
}

.breathing-progress::-webkit-progress-value {
    background: linear-gradient(90deg, var(--color-sky), var(--color-lavender));
    transition: width 0.3s ease;
}

.breathing-progress::-moz-progress-bar {
    background: linear-gradient(90deg, var(--color-sky), var(--color-lavender));
}

.breathing-legend {
    font-size: 0.85rem;
    color: var(--color-text-muted);
    text-align: center;
}

.breathing-legend .dot {
    display: inline-block;
    width: 0.5rem;
    height: 0.5rem;
    border-radius: 50%;
    margin: 0 0.25rem;
}

.breathing-legend .dot.inhale {
    background: var(--zone-green);
}

.breathing-legend .dot.hold {
    background: var(--zone-yellow);
}

.breathing-legend .dot.exhale {
    background: var(--color-sky);
}

/* Modal Actions */
.modal-actions {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    padding: 1.25rem 1.75rem;
    flex-shrink: 0;
    border-top: 1px solid var(--color-sage-light);
}

.modal-actions .btn {
    padding: 0.75rem 1.25rem;
    font-size: 0.9rem;
    font-weight: 500;
}

.modal-actions .btn.cta {
    font-weight: 600;
    background: var(--color-sky);
    color: var(--color-white);
    border-color: var(--color-sky);
}

.modal-actions .btn.cta:hover {
    background: var(--color-sage-dark);
    border-color: var(--color-sage-dark);
    transform: translateY(-1px);
}

.modal-actions .btn.hidden {
    display: none;
}


/* Celebration Animation */
@keyframes celebrationFloat {
    0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(0.5) translateY(0);
    }
    50% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.2) translateY(-30px);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(1) translateY(-60px);
    }
}

/* ============================================
   SHARE SHEET - PROFESSIONAL RESTRUCTURE
   ============================================ */

.share-sheet {
    position: fixed;
    inset: 0;
    z-index: 1000;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    padding: 0;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.share-sheet:not(.hidden) {
    opacity: 1;
    visibility: visible;
}

.share-sheet.hidden {
    display: none;
}

.share-sheet__backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.6);
    -webkit-backdrop-filter: blur(4px);
    backdrop-filter: blur(4px);
    z-index: -1;
}

.share-sheet__card {
    position: relative;
    width: 100%;
    max-width: 600px;
    max-height: 85vh;
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: 1.5rem 1.5rem 0 0;
    box-shadow: 0 -8px 32px rgba(0, 0, 0, 0.15);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    transform: translateY(100%);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 1;
}

.share-sheet:not(.hidden) .share-sheet__card {
    transform: translateY(0);
}

@media (min-width: 640px) {
    .share-sheet__card {
        border-radius: 1.5rem;
        max-height: 80vh;
        margin: 1rem;
    }
}

.share-sheet__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.5rem 1.75rem;
    border-bottom: 1px solid var(--color-sage-light);
    background: var(--color-cream);
    flex-shrink: 0;
}

.share-sheet__title {
    margin: 0;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-text);
    line-height: 1.2;
}

.share-sheet__close {
    background: transparent;
    border: none;
    color: var(--color-text-muted);
    font-size: 2rem;
    line-height: 1;
    padding: 0.5rem;
    cursor: pointer;
    border-radius: var(--radius-md);
    transition: all var(--transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2.5rem;
    height: 2.5rem;
    flex-shrink: 0;
}

.share-sheet__close:hover,
.share-sheet__close:focus-visible {
    background: var(--color-sage-light);
    color: var(--color-text);
    outline: 2px solid var(--color-sage);
    outline-offset: 2px;
}

.share-sheet__body {
    flex: 1;
    overflow-y: auto;
    padding: 1.75rem;
    background: var(--color-white);
}

.share-sheet__field-group {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.share-sheet__label {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--color-text);
    margin: 0;
}

.share-sheet__textarea {
    width: 100%;
    min-height: 140px;
    padding: 1rem 1.25rem;
    background: var(--color-cream);
    border: 2px solid var(--color-sage-light);
    border-radius: var(--radius-lg);
    color: var(--color-text);
    font-size: 0.95rem;
    line-height: 1.6;
    font-family: var(--font-primary);
    resize: vertical;
    transition: all var(--transition-base);
}

.share-sheet__textarea:focus {
    outline: none;
    border-color: var(--color-sage);
    background: var(--color-white);
    box-shadow: 0 0 0 3px rgba(157, 180, 160, 0.1);
}

.share-sheet__textarea::placeholder {
    color: var(--color-text-muted);
    opacity: 0.6;
}

.share-sheet__footer {
    padding: 1.5rem 1.75rem;
    border-top: 1px solid var(--color-sage-light);
    background: var(--color-cream);
    flex-shrink: 0;
}

.share-sheet__actions {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.875rem;
}

.share-sheet__action-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.625rem;
    padding: 0.875rem 1.25rem;
    font-size: 0.95rem;
    font-weight: 600;
    border-radius: var(--radius-md);
    transition: all var(--transition-base);
    cursor: pointer;
    border: 2px solid transparent;
}

.share-sheet__action-btn.btn-primary {
    background: linear-gradient(135deg, var(--color-sage), var(--color-sage-dark));
    color: var(--color-white);
    border-color: var(--color-sage-dark);
}

.share-sheet__action-btn.btn-primary:hover,
.share-sheet__action-btn.btn-primary:focus-visible {
    background: linear-gradient(135deg, var(--color-sage-dark), var(--color-sage));
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(107, 139, 110, 0.3);
    outline: none;
}

.share-sheet__action-btn.btn-secondary {
    background: var(--color-white);
    color: var(--color-text);
    border-color: var(--color-sage-light);
}

.share-sheet__action-btn.btn-secondary:hover,
.share-sheet__action-btn.btn-secondary:focus-visible {
    background: var(--color-sage-light);
    border-color: var(--color-sage);
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(107, 139, 110, 0.15);
    outline: none;
}

.share-sheet__action-icon {
    font-size: 1.25rem;
    line-height: 1;
    flex-shrink: 0;
}

.share-sheet__action-text {
    line-height: 1.2;
}

@media (max-width: 640px) {
    .share-sheet__header {
        padding: 1.25rem 1.5rem;
    }
    
    .share-sheet__title {
        font-size: 1.25rem;
    }
    
    .share-sheet__body {
        padding: 1.5rem;
    }
    
    .share-sheet__footer {
        padding: 1.25rem 1.5rem;
    }
    
    .share-sheet__actions {
        grid-template-columns: 1fr;
    }
    
    .share-sheet__action-btn {
        width: 100%;
    }
}

/* ============================================
   BLOG PAGE - AI-POWERED HUB
   ============================================ */

/* Blog Hero Section */
.blog-hero {
    background: linear-gradient(135deg, var(--color-sage-light), var(--color-sky-light));
    padding: clamp(3rem, 6vw, 5rem) 0;
    margin-bottom: var(--spacing-2xl);
}

.blog-hero__content {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    align-items: start;
}

@media (min-width: 960px) {
    .blog-hero__content {
        grid-template-columns: 1.2fr 1fr;
        gap: 3rem;
    }
}

.blog-hero__text {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
}

.blog-eyebrow {
    font-size: 0.875rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-sage-dark);
    font-weight: 600;
    margin: 0;
}

.blog-hero h1 {
    font-size: clamp(2rem, 4vw, 3rem);
    line-height: 1.2;
    color: var(--color-text);
    margin: 0;
    font-weight: 700;
}

.blog-subtitle {
    font-size: clamp(1rem, 2vw, 1.25rem);
    line-height: 1.6;
    color: var(--color-text);
    margin: 0;
}

.blog-hero__actions {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-top: 0.5rem;
}

.blog-reassurance {
    list-style: none;
    padding: 0;
    margin: 1.5rem 0 0 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.blog-reassurance li {
    font-size: 0.95rem;
    color: var(--color-text-muted);
    padding-left: 1.5rem;
    position: relative;
}

.blog-reassurance li::before {
    content: "âœ“";
    position: absolute;
    left: 0;
    color: var(--color-sage);
    font-weight: 700;
}

.blog-hero__card {
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-lg);
    padding: 1.5rem;
    box-shadow: var(--shadow-medium);
}

.blog-hero__card-label {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-text-muted);
    margin: 0 0 0.75rem 0;
    font-weight: 600;
}

.blog-hero__card-answer {
    font-size: 1rem;
    line-height: 1.6;
    color: var(--color-text);
    margin: 0 0 1rem 0;
    font-style: italic;
}

.blog-hero__card-disclaimer {
    font-size: 0.85rem;
    color: var(--color-text-muted);
    margin: 0;
    padding-top: 1rem;
    border-top: 1px solid var(--color-sage-light);
}

/* Trust Panel */
.blog-trust-panel {
    padding: var(--spacing-2xl) 0;
    background: var(--color-cream);
    margin-bottom: var(--spacing-2xl);
}

.blog-trust-panel__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
}

@media (min-width: 768px) {
    .blog-trust-panel__grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

.blog-trust-card {
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-lg);
    padding: 1.75rem;
    box-shadow: var(--shadow-soft);
}

.blog-trust-card h2 {
    font-size: 1.5rem;
    margin: 0 0 1rem 0;
    color: var(--color-text);
}

.blog-trust-card p {
    font-size: 0.95rem;
    line-height: 1.6;
    color: var(--color-text);
    margin: 0;
}

/* AI Chat Section */
.blog-ai-chat {
    padding: var(--spacing-2xl) 0;
    margin-bottom: var(--spacing-2xl);
}

.blog-ai-chat__intro {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    margin-bottom: 2rem;
}

@media (min-width: 960px) {
    .blog-ai-chat__intro {
        grid-template-columns: 2fr 1fr;
    }
}

.blog-ai-chat__intro-text h2 {
    font-size: clamp(1.75rem, 3vw, 2.25rem);
    margin: 0 0 1rem 0;
    color: var(--color-text);
}

.blog-ai-chat__intro-text p {
    font-size: 1rem;
    line-height: 1.6;
    color: var(--color-text);
    margin: 0 0 1.5rem 0;
}

.blog-ai-chat__features {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.blog-ai-chat__features li {
    font-size: 0.9rem;
    color: var(--color-text-muted);
    padding-left: 1.5rem;
    position: relative;
}

.blog-ai-chat__features li::before {
    content: "â€¢";
    position: absolute;
    left: 0;
    color: var(--color-sage);
    font-weight: 700;
}

.blog-ai-chat__meta {
    background: var(--color-cream);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    padding: 1.25rem;
}

.blog-chat-status {
    font-size: 0.9rem;
    color: var(--color-text);
    margin: 0 0 0.75rem 0;
}

.blog-chat-note {
    font-size: 0.85rem;
    color: var(--color-text-muted);
    margin: 0;
    line-height: 1.5;
}

.blog-chat-panel {
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-lg);
    padding: 1.5rem;
    box-shadow: var(--shadow-medium);
    margin-bottom: 2rem;
}

.blog-chat-log {
    min-height: 200px;
    max-height: 400px;
    overflow-y: auto;
    padding: 1rem;
    background: var(--color-cream);
    border-radius: var(--radius-md);
    margin-bottom: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.blog-message {
    padding: 1rem;
    border-radius: var(--radius-md);
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
}

.blog-ai-message {
    background: var(--color-sage-light);
}

.blog-message__meta {
    font-size: 0.75rem;
    color: var(--color-text-muted);
    margin: 0 0 0.5rem 0;
    font-weight: 600;
}

.blog-message p {
    margin: 0;
    font-size: 0.95rem;
    line-height: 1.6;
    color: var(--color-text);
}

.blog-message-content {
    font-size: 0.95rem;
    line-height: 1.7;
    color: var(--color-text);
}

.blog-message-content strong {
    font-weight: 600;
    color: var(--color-text);
}

.blog-message-content em {
    font-style: italic;
}

.blog-message-content a {
    color: var(--color-sage-dark);
    text-decoration: underline;
    text-underline-offset: 2px;
    transition: color 0.2s ease;
}

.blog-message-content a:hover {
    color: var(--color-earth);
    text-decoration-thickness: 2px;
}

.blog-message-content ul,
.blog-message-content ol {
    margin: 0.75rem 0;
    padding-left: 1.5rem;
}

.blog-message-content li {
    margin: 0.5rem 0;
    line-height: 1.6;
}

.blog-message-content code {
    background: var(--color-cream);
    padding: 0.2rem 0.4rem;
    border-radius: var(--radius-sm);
    font-size: 0.9em;
    color: var(--color-sage-dark);
    font-family: 'Courier New', monospace;
}

.blog-chat-form {
    display: grid;
    grid-template-columns: auto 1fr auto;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

@media (max-width: 640px) {
    .blog-chat-form {
        grid-template-columns: 1fr;
    }
}

.blog-chip-select,
.blog-question-input {
    padding: 0.75rem 1rem;
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    background: var(--color-white);
    color: var(--color-text);
    font-size: 0.95rem;
    font-family: var(--font-primary);
}

.blog-question-input {
    flex: 1;
}

.blog-chat-disclaimer {
    font-size: 0.85rem;
    color: var(--color-text-muted);
    margin: 0;
    padding-top: 1rem;
    border-top: 1px solid var(--color-sage-light);
    line-height: 1.5;
}

.blog-ai-config {
    background: var(--color-cream);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    padding: 1.5rem;
    margin-top: 2rem;
}

.blog-ai-config h3 {
    font-size: 1.25rem;
    margin: 0 0 1rem 0;
    color: var(--color-text);
}

.blog-ai-config ol {
    margin: 0;
    padding-left: 1.5rem;
}

.blog-ai-config li {
    font-size: 0.9rem;
    line-height: 1.6;
    color: var(--color-text);
    margin-bottom: 0.75rem;
}

.blog-ai-config code {
    background: var(--color-white);
    padding: 0.2rem 0.4rem;
    border-radius: var(--radius-sm);
    font-size: 0.85em;
    color: var(--color-sage-dark);
    border: 1px solid var(--color-sage-light);
}

/* Focus Lab Section */
.blog-focus-lab {
    padding: var(--spacing-2xl) 0;
    background: var(--color-cream);
    margin-bottom: var(--spacing-2xl);
}

.blog-section-heading {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin-bottom: 2rem;
}

@media (min-width: 960px) {
    .blog-section-heading {
        flex-direction: row;
        justify-content: space-between;
        align-items: flex-start;
    }
}

.blog-section-heading__text h2 {
    font-size: clamp(1.75rem, 3vw, 2.25rem);
    margin: 0 0 1rem 0;
    color: var(--color-text);
}

.blog-section-heading__text p {
    font-size: 1rem;
    line-height: 1.6;
    color: var(--color-text);
    margin: 0;
}

.blog-section-heading__actions {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    align-items: flex-start;
}

@media (min-width: 960px) {
    .blog-section-heading__actions {
        align-items: flex-end;
        text-align: right;
    }
}

.blog-games-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
}

@media (min-width: 768px) {
    .blog-games-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

.blog-game-card {
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-lg);
    padding: 1.5rem;
    box-shadow: var(--shadow-soft);
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
}

.blog-game-card--wide {
    grid-column: 1 / -1;
}

.blog-game-card__content h3 {
    font-size: 1.5rem;
    margin: 0 0 0.75rem 0;
    color: var(--color-text);
}

.blog-game-tags {
    font-size: 0.85rem;
    color: var(--color-text-muted);
    margin: 0 0 0.75rem 0;
    font-style: italic;
}

.blog-game-card__content p {
    font-size: 0.95rem;
    line-height: 1.6;
    color: var(--color-text);
    margin: 0;
}

.blog-game-ui {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.blog-progress-bar {
    width: 100%;
    height: 8px;
    background: var(--color-sage-light);
    border-radius: 999px;
    overflow: hidden;
}

.blog-progress-indicator {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, var(--color-sage), var(--color-sky));
    transition: width 0.1s linear;
}

.blog-tile-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.75rem;
}

.blog-tile-grid .tile {
    aspect-ratio: 1;
    border: 2px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    background: var(--color-white);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    cursor: pointer;
    transition: all var(--transition-base);
}

.blog-tile-grid .tile.active {
    background: var(--color-sage);
    border-color: var(--color-sage-dark);
    transform: scale(1.1);
}

.blog-signal-display {
    padding: 1.5rem;
    background: var(--color-cream);
    border: 2px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    text-align: center;
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--color-text);
    min-height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.blog-signal-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
}

.blog-tracker {
    width: 100%;
    height: 200px;
    background: var(--color-cream);
    border: 2px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    position: relative;
    overflow: hidden;
}

.blog-tracker-target {
    position: absolute;
    width: 40px;
    height: 40px;
    background: var(--color-sage);
    border-radius: 50%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    transition: all 0.1s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.blog-game-feedback {
    font-size: 0.9rem;
    color: var(--color-text-muted);
    margin: 0;
    min-height: 1.5rem;
}

/* Blog Posts Section */
.blog-posts {
    padding: var(--spacing-2xl) 0;
    margin-bottom: var(--spacing-2xl);
}

.blog-posts__tools {
    display: flex;
    gap: 1rem;
}

.blog-search-input {
    flex: 1;
    padding: 0.75rem 1rem;
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    background: var(--color-white);
    color: var(--color-text);
    font-size: 0.95rem;
}

.blog-filter-form {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
    margin: 2rem 0;
    padding: 1.5rem;
    background: var(--color-cream);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-lg);
}

@media (min-width: 768px) {
    .blog-filter-form {
        grid-template-columns: repeat(2, 1fr);
    }
}

.blog-filter-fieldset {
    border: none;
    padding: 0;
    margin: 0;
}

.blog-filter-fieldset legend {
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-text);
    margin-bottom: 0.75rem;
}

.blog-filter-options {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.blog-filter-options label {
    font-size: 0.9rem;
    color: var(--color-text);
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.blog-posts-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
    margin-top: 2rem;
}

@media (min-width: 768px) {
    .blog-posts-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 1200px) {
    .blog-posts-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

.blog-post-card {
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-lg);
    padding: 1.5rem;
    box-shadow: var(--shadow-soft);
    transition: all var(--transition-base);
}

.blog-post-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-medium);
    border-color: var(--color-sage);
}

.blog-post-card h3 {
    font-size: 1.25rem;
    margin: 0 0 0.75rem 0;
    color: var(--color-text);
}

.blog-post-card h3 a {
    color: var(--color-text);
    text-decoration: none;
}

.blog-post-card h3 a:hover {
    color: var(--color-sage-dark);
    text-decoration: underline;
}

.blog-post-card p {
    font-size: 0.95rem;
    line-height: 1.6;
    color: var(--color-text);
    margin: 0 0 0.75rem 0;
}

.blog-post-meta {
    font-size: 0.85rem;
    color: var(--color-text-muted);
    margin: 0;
}

.blog-no-results {
    text-align: center;
    padding: 3rem 1rem;
    color: var(--color-text-muted);
    font-size: 1.1rem;
}

/* Resources Section */
.blog-resources {
    padding: var(--spacing-2xl) 0;
    background: var(--color-cream);
    margin-bottom: var(--spacing-2xl);
}

.blog-resources h2 {
    font-size: clamp(1.75rem, 3vw, 2.25rem);
    margin: 0 0 1rem 0;
    color: var(--color-text);
}

.blog-resources > .page-container > p {
    font-size: 1rem;
    color: var(--color-text);
    margin: 0 0 1.5rem 0;
}

.blog-resource-links {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
}

.blog-resource-links li {
    margin: 0;
}

.blog-resource-links a {
    display: inline-block;
    padding: 0.75rem 1.25rem;
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    color: var(--color-text);
    text-decoration: none;
    font-weight: 500;
    transition: all var(--transition-base);
}

.blog-resource-links a:hover {
    background: var(--color-sage-light);
    border-color: var(--color-sage);
    transform: translateY(-1px);
}

/* Sources Section */
.blog-sources {
    padding: var(--spacing-2xl) 0;
    margin-bottom: var(--spacing-2xl);
}

.blog-sources h2 {
    font-size: clamp(1.75rem, 3vw, 2.25rem);
    margin: 0 0 1.5rem 0;
    color: var(--color-text);
}

.blog-sources-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.blog-sources-list li {
    font-size: 0.95rem;
    line-height: 1.6;
    color: var(--color-text);
    padding-left: 1.5rem;
    position: relative;
}

.blog-sources-list li::before {
    content: "â€¢";
    position: absolute;
    left: 0;
    color: var(--color-sage);
    font-weight: 700;
}

/* Playlist Section */
.blog-playlist {
    margin: 3rem 0;
    padding: 2rem 0;
    border-top: 1px solid var(--color-sage-light);
}

.blog-playlist__controls {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    align-items: flex-start;
}

.blog-playlist__controls label {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--color-text);
}

.blog-playlist__controls input[type="range"] {
    width: 200px;
}

.blog-playlist__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    margin-top: 2rem;
}

@media (min-width: 768px) {
    .blog-playlist__grid {
        grid-template-columns: 1fr 1fr;
    }
}

.blog-track-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.blog-track-list li label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.95rem;
    color: var(--color-text);
    cursor: pointer;
    padding: 0.75rem;
    border-radius: var(--radius-md);
    transition: background var(--transition-base);
}

.blog-track-list li label:hover {
    background: var(--color-cream);
}

.blog-playlist__player {
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    padding: 1.5rem;
}

.blog-playlist__player audio {
    width: 100%;
    margin-bottom: 1rem;
}

.blog-playlist__player p {
    margin: 0.5rem 0;
    font-size: 0.9rem;
    color: var(--color-text);
}

.blog-microcopy {
    font-size: 0.85rem;
    color: var(--color-text-muted);
    font-style: italic;
}

/* Journal Section */
.blog-journal {
    margin: 3rem 0;
    padding: 2rem 0;
    border-top: 1px solid var(--color-sage-light);
}

.blog-journal-form {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
    margin-top: 1.5rem;
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-lg);
    padding: 1.5rem;
}

.blog-journal-form label {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--color-text);
}

.blog-journal-form input,
.blog-journal-form select,
.blog-journal-form textarea {
    padding: 0.75rem;
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    background: var(--color-white);
    color: var(--color-text);
    font-size: 0.95rem;
    font-family: var(--font-primary);
}

.blog-journal-entries {
    margin-top: 2rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.blog-journal-entry {
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
    padding: 1.25rem;
}

/* Rewards Section */
.blog-rewards {
    margin: 3rem 0;
    padding: 2rem 0;
    border-top: 1px solid var(--color-sage-light);
}

.blog-scratch-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    margin-top: 1.5rem;
}

.blog-scratch-card {
    aspect-ratio: 1;
    background: linear-gradient(135deg, var(--color-sage-light), var(--color-sky-light));
    border: 2px solid var(--color-sage);
    border-radius: var(--radius-md);
    font-weight: 600;
    color: var(--color-text);
    cursor: pointer;
    transition: all var(--transition-base);
    position: relative;
    overflow: hidden;
}

.blog-scratch-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-medium);
}

.blog-scratch-card.revealed {
    background: var(--color-white);
    cursor: default;
}

.blog-scratch-message {
    text-align: center;
    font-size: 1.1rem;
    color: var(--color-text);
    margin: 1.5rem 0 0 0;
    min-height: 2rem;
}

/* Achievement Section */
.blog-achievement {
    margin: 3rem 0;
    padding: 2rem 0;
    border-top: 1px solid var(--color-sage-light);
}

.blog-achievement__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    margin-top: 1.5rem;
}

@media (min-width: 768px) {
    .blog-achievement__grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

.blog-achievement__grid h4 {
    font-size: 1.25rem;
    margin: 0 0 1rem 0;
    color: var(--color-text);
}

.blog-badge-list,
.blog-collectible-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.blog-badge-list li,
.blog-collectible-list li {
    font-size: 0.95rem;
    color: var(--color-text);
    padding: 0.75rem;
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-md);
}

.blog-badge-list li[data-badge].unlocked {
    background: var(--color-sage-light);
    border-color: var(--color-sage);
}

#leaderboard {
    list-style: decimal;
    padding-left: 1.5rem;
    margin: 0;
}

#leaderboard li {
    font-size: 0.95rem;
    color: var(--color-text);
    margin-bottom: 0.5rem;
}

/* Avatars Section */
.blog-avatars {
    margin: 3rem 0;
    padding: 2rem 0;
    border-top: 1px solid var(--color-sage-light);
}

.blog-avatar-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin-top: 1.5rem;
}

.blog-avatar-card {
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    border-radius: var(--radius-lg);
    padding: 1.5rem;
    text-align: center;
    transition: all var(--transition-base);
}

.blog-avatar-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-medium);
}

.blog-avatar-card h4 {
    font-size: 1.25rem;
    margin: 0 0 0.75rem 0;
    color: var(--color-text);
}

.blog-avatar-card p {
    font-size: 0.9rem;
    color: var(--color-text-muted);
    margin: 0 0 1rem 0;
}

.blog-avatar-card.unlocked {
    border-color: var(--color-sage);
    background: var(--color-cream);
}

.blog-theme-message {
    text-align: center;
    font-size: 0.95rem;
    color: var(--color-text);
    margin: 1.5rem 0 0 0;
    min-height: 1.5rem;
}

/* Hide progress card on blog page */
body[data-progress-disabled="true"] #progressCard,
body[data-page-id="blog"] #progressCard {
    display: none !important;
}

/* 30-Day Calm Challenge Section Styles */
.challenge-section {
    background: linear-gradient(135deg, var(--color-sage-light), var(--color-sky-light));
    padding: 3rem 0;
}

.challenge-card {
    background: var(--color-white);
    border: 3px solid var(--color-sage);
}

.challenge-title {
    text-align: center;
    color: var(--color-sage-dark);
    margin-bottom: 1rem;
}

.challenge-intro {
    text-align: center;
    font-size: 1.1rem;
    margin-bottom: 2rem;
}

.challenge-content {
    max-width: 800px;
    margin: 0 auto;
}

.challenge-list {
    line-height: 1.8;
}

.challenge-subtitle {
    margin-top: 2rem;
}

.challenge-actions {
    margin-top: 2rem;
    text-align: center;
}

.challenge-btn {
    font-size: 1.1rem;
    padding: 1rem 2rem;
}

.challenge-note {
    margin-top: 2rem;
    text-align: center;
    font-style: italic;
}

@media (max-width: 768px) {
    .blog-hero__actions {
        flex-direction: column;
    }
    
    .blog-hero__actions .btn {
        width: 100%;
    }
    
    .blog-chat-form {
        grid-template-columns: 1fr;
    }
    
    .blog-section-heading__actions {
        align-items: flex-start;
        text-align: left;
    }
    
    .blog-playlist__grid {
        grid-template-columns: 1fr;
    }
    
    .blog-achievement__grid {
        grid-template-columns: 1fr;
    }
}

/* Progress card completely disabled */
#progressCard,
.progress-card,
article[id="progressCard"],
article.progress-card {
  display: none !important;
  visibility: hidden !important;
}

/* NeuroBreath: Quick Win (Home) */
.nb-quickwin-card { margin: 0 0 1rem 0; }
.nb-quickwin__pills { display:flex; gap:.5rem; flex-wrap:wrap; margin-bottom:.5rem; }
.nb-badge--gold { border-color: rgba(180,140,40,.45); }

.nb-quickwin__grid {
  display:grid;
  gap: 1rem;
  grid-template-columns: 1.05fr .95fr;
  align-items: start;
}
@media (max-width: 900px) {
  .nb-quickwin__grid { grid-template-columns: 1fr; }
}

.nb-quickwin__label { display:block; font-weight: 700; margin: .75rem 0 .35rem; }
.nb-quickwin__select {
  width: 100%;
  padding: .65rem .75rem;
  border-radius: .85rem;
  border: 1px solid rgba(0,0,0,.14);
  background: rgba(255,255,255,.8);
}

.nb-quickwin__output {
  padding: 1rem;
  border-radius: 1rem;
  border: 1px solid rgba(0,0,0,.10);
  background: rgba(255,255,255,.65);
}

.nb-quickwin__plan ol { margin: .5rem 0 0; padding-left: 1.1rem; }
.nb-quickwin__minBtns .btn.is-selected { outline: 2px solid rgba(0,0,0,.25); }
.nb-quickwin__linkRow { margin-top: .75rem; }

/* 404: Keep block centered, text left-aligned */
body[data-page-id="404"] .page-main .page-content {
    max-width: 65ch;
    margin-left: auto;
    margin-right: auto;
    text-align: left;
}

body[data-page-id="404"] .page-main .actions {
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-start;
    gap: var(--spacing-sm);
    margin: var(--spacing-lg) 0;
}

/* =============================================
     Breathing sessions (shared)
     - Used by assets/js/breathing-session.js
     - Keeps focus + session-only behavior consistent across technique pages
     ============================================= */

/* Session circle UI */
.orb-wrap {
    position: relative;
    width: min(320px, 78vw);
    aspect-ratio: 1;
    margin: 0 auto;
    display: grid;
    place-items: center;
    cursor: pointer;
    -webkit-user-select: none;
    user-select: none;
}

.orb-wrap .radial {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    transform: rotate(-90deg);
}

.orb-wrap .ring {
    fill: none;
    stroke-width: 7;
}

.orb-wrap .ring.base {
    stroke: var(--color-sage-light);
    opacity: 0.75;
}

.orb-wrap .ring.progress {
    stroke: var(--color-sage-dark);
    stroke-linecap: round;
}

.orb {
    width: 72%;
    height: 72%;
    border-radius: 999px;
    background: var(--color-white);
    border: 1px solid var(--color-sage-light);
    box-shadow: var(--shadow-medium);
    display: grid;
    place-items: center;
    text-align: center;
    padding: var(--spacing-lg, var(--s-6));
    transform: scale(1);
    transition: transform var(--transition-slow);
}

.orb.inhale {
    transform: scale(1.08);
}

.orb.hold {
    transform: scale(1.04);
}

.orb.exhale {
    transform: scale(0.92);
}

body.rm .orb {
    transition: none;
}

.phase {
    font-family: var(--font-display);
    font-weight: 600;
    margin-bottom: var(--spacing-xs, var(--s-2));
}

.count {
    font-family: var(--font-display);
    font-weight: 700;
    font-size: 2.5rem;
    line-height: 1;
}

/* Focus mode hides site chrome during a session */
body.focus-mode header.site-header,
body.focus-mode footer.site-footer {
    display: none !important;
}

/* While a session is running, show only the session screen */
body.nb-session-running {
    overflow: hidden;
}

body.nb-session-running .site-header,
body.nb-session-running .site-footer,
body.nb-session-running .skip-link,
body.nb-session-running #top {
    display: none !important;
}

/* If structure changes, keep this robust: show only the session card within the page content */
body.nb-session-running .page-content > :not(#session) {
    display: none !important;
}

/* Clean wrapper chrome during session-only view */
body.nb-session-running .section-inner > .card {
    padding: 0 !important;
    margin: 0 !important;
    border: 0 !important;
    box-shadow: none !important;
    background: transparent !important;
}

body.nb-session-running .section-inner > .card > h1 {
    display: none !important;
}

/* Focus mode should be a true "session-only" screen */
body.focus-mode .page-main {
    padding: 0 !important;
}

/* The page has an outer wrapper card; neutralize it in focus mode */
body.focus-mode .section-inner > .card {
    padding: 0 !important;
    margin: 0 !important;
    border: 0 !important;
    box-shadow: none !important;
    background: transparent !important;
}

body.focus-mode .section-inner > .card > h1 {
    display: none !important;
}

body.focus-mode #session.card.session {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

/* Session focus screen (distraction-free fullscreen) */
body.nb-focus-screen {
    overflow: hidden;
}

body.nb-focus-screen .site-header,
body.nb-focus-screen .site-footer,
body.nb-focus-screen .skip-link,
body.nb-focus-screen #top {
    display: none !important;
}

body.nb-focus-screen #session.card.session.is-focus {
    position: fixed;
    inset: 0;
    z-index: 9999;
    margin: 0;
    border-radius: 0;
    border-left: none;
    border-right: none;
    border-top: none;
    padding:
        calc(var(--spacing-lg, var(--s-6)) + env(safe-area-inset-top))
        calc(var(--spacing-lg, var(--s-6)) + env(safe-area-inset-right))
        calc(var(--spacing-lg, var(--s-6)) + env(safe-area-inset-bottom))
        calc(var(--spacing-lg, var(--s-6)) + env(safe-area-inset-left));
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

body.nb-focus-screen #session.card.session.is-focus > h2 {
    display: none;
}

body.nb-focus-screen #session.card.session.is-focus .orb-wrap {
    width: min(420px, 86vw);
}

body.nb-focus-screen #session.card.session.is-focus .btn-row {
    width: 100%;
    max-width: 560px;
    margin-top: var(--spacing-lg, var(--s-6));
    justify-content: center;
}

.nb-session-focus-controls {
    position: absolute;
    top: 0;
    right: 0;
    transform: translate(35%, -35%);
    z-index: 3;
    display: flex;
    gap: var(--spacing-sm, var(--s-3));
}
